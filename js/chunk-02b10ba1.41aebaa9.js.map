{"version":3,"sources":["webpack:///./node_modules/core-js/modules/_array-methods.js","webpack:///./src/views/tetris/Index.vue?80cd","webpack:///./node_modules/core-js/modules/_is-array.js","webpack:///./src/views/tetris/components/keyboard/button/index.vue?8a34","webpack:///./node_modules/core-js/modules/es6.regexp.split.js","webpack:///./node_modules/core-js/modules/es6.regexp.flags.js","webpack:///./src/views/tetris/components/pause/index.vue?2f80","webpack:///./node_modules/core-js/library/fn/object/define-property.js","webpack:///./node_modules/core-js/modules/es6.object.keys.js","webpack:///./node_modules/core-js/library/modules/es6.object.define-property.js","webpack:///./src/views/tetris/Index.vue?115f","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/defineProperty.js","webpack:///./src/views/tetris/unit/const.js","webpack:///./src/views/tetris/unit/index.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/createClass.js","webpack:///./src/views/tetris/unit/block.js","webpack:///./src/views/tetris/vuex/mutations.js","webpack:///./src/views/tetris/unit/music.js","webpack:///./src/views/tetris/vuex/store.js","webpack:///./src/views/tetris/control/index.js","webpack:///./src/views/tetris/control/states.js","webpack:///./src/views/tetris/unit/event.js","webpack:///./src/views/tetris/control/todo/left.js","webpack:///./src/views/tetris/control/todo/right.js","webpack:///./src/views/tetris/control/todo/down.js","webpack:///./src/views/tetris/control/todo/rotate.js","webpack:///./src/views/tetris/control/todo/space.js","webpack:///./src/views/tetris/control/todo/s.js","webpack:///./src/views/tetris/control/todo/r.js","webpack:///./src/views/tetris/control/todo/p.js","webpack:///./src/views/tetris/control/todo/index.js","webpack:///./src/views/tetris/components/decorate/index.vue?6ae8","webpack:///./src/views/tetris/components/matrix/index.vue","webpack:///src/views/tetris/components/decorate/index.vue","webpack:///./src/views/tetris/components/decorate/index.vue?3d45","webpack:///./src/views/tetris/components/decorate/index.vue","webpack:///./src/views/tetris/components/guide/index.vue?a940","webpack:///src/views/tetris/components/guide/index.vue","webpack:///./src/views/tetris/components/guide/index.vue?0b7c","webpack:///./src/views/tetris/components/guide/index.vue","webpack:///./src/views/tetris/components/next/index.vue?427b","webpack:///src/views/tetris/components/next/index.vue","webpack:///./src/views/tetris/components/next/index.vue?3df2","webpack:///./src/views/tetris/components/next/index.vue","webpack:///./src/views/tetris/components/music/index.vue?0643","webpack:///src/views/tetris/components/music/index.vue","webpack:///./src/views/tetris/components/music/index.vue?eb63","webpack:///./src/views/tetris/components/music/index.vue","webpack:///./src/views/tetris/components/pause/index.vue?dcab","webpack:///src/views/tetris/components/pause/index.vue","webpack:///./src/views/tetris/components/pause/index.vue?c464","webpack:///./src/views/tetris/components/pause/index.vue","webpack:///./src/views/tetris/components/number/index.vue?63bb","webpack:///src/views/tetris/components/number/index.vue","webpack:///./src/views/tetris/components/number/index.vue?6833","webpack:///./src/views/tetris/components/number/index.vue","webpack:///./src/views/tetris/components/point/index.vue?51e7","webpack:///src/views/tetris/components/point/index.vue","webpack:///./src/views/tetris/components/point/index.vue?f698","webpack:///./src/views/tetris/components/point/index.vue","webpack:///./src/views/tetris/components/keyboard/index.vue?2522","webpack:///./src/views/tetris/components/keyboard/button/index.vue?7e14","webpack:///src/views/tetris/components/keyboard/button/index.vue","webpack:///./src/views/tetris/components/keyboard/button/index.vue?ecfb","webpack:///./src/views/tetris/components/keyboard/button/index.vue","webpack:///src/views/tetris/components/keyboard/index.vue","webpack:///./src/views/tetris/components/keyboard/index.vue?c0af","webpack:///./src/views/tetris/components/keyboard/index.vue","webpack:///./src/views/tetris/components/logo/index.vue?af54","webpack:///src/views/tetris/components/logo/index.vue","webpack:///./src/views/tetris/components/logo/index.vue?7e6b","webpack:///./src/views/tetris/components/logo/index.vue","webpack:///src/views/tetris/components/matrix/index.vue","webpack:///./src/views/tetris/components/matrix/index.vue?2be1","webpack:///src/views/tetris/Index.vue","webpack:///./src/views/tetris/Index.vue?31c0","webpack:///./src/views/tetris/Index.vue","webpack:///./src/views/tetris/components/guide/index.vue?c41e","webpack:///./src/views/tetris/assets/music.mp3","webpack:///./node_modules/core-js/modules/_object-sap.js","webpack:///./node_modules/core-js/modules/es6.regexp.to-string.js","webpack:///./src/views/tetris/components/next/index.vue?53b2","webpack:///./node_modules/core-js/modules/es6.array.find.js","webpack:///./src/views/tetris/components/music/index.vue?99bd","webpack:///./src/views/tetris/components/logo/index.vue?e0cf","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/define-property.js","webpack:///./node_modules/core-js/modules/es7.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/_own-keys.js","webpack:///./src/views/tetris/components/keyboard/index.vue?fd1f","webpack:///./src/views/tetris/components/number/index.vue?e8ad","webpack:///./src/views/tetris/components/matrix/index.vue?407e","webpack:///./node_modules/core-js/modules/_array-species-create.js","webpack:///./node_modules/core-js/modules/_array-species-constructor.js","webpack:///./src/views/tetris/components/decorate/index.vue?1f12","webpack:///./node_modules/core-js/modules/_create-property.js"],"names":["ctx","IObject","toObject","toLength","asc","module","exports","TYPE","$create","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","create","$this","callbackfn","that","val","res","O","self","f","length","index","result","undefined","push","cof","Array","isArray","arg","isRegExp","anObject","speciesConstructor","advanceStringIndex","callRegExpExec","regexpExec","fails","$min","Math","min","$push","$SPLIT","LENGTH","LAST_INDEX","MAX_UINT32","SUPPORTS_Y","RegExp","defined","SPLIT","$split","maybeCallNative","internalSplit","separator","limit","string","String","this","call","match","lastIndex","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","splitLimit","separatorCopy","source","slice","apply","test","splitter","regexp","done","value","rx","S","C","unicodeMatching","lim","p","q","A","e","z","i","prototype","configurable","get","$Object","Object","it","key","desc","defineProperty","$keys","$export","F","render","_vm","_h","$createElement","_c","_self","staticClass","style","class","drop","attrs","matrix","cur","reset","max","points","_v","_s","pContent","clearLines","startLines","level","speedRun","speedStart","nextText","next","music","pause","filling","staticRenderFns","_defineProperty","obj","enumerable","writable","blockShape","I","L","J","Z","T","origin","blockType","keys","speeds","delays","fillLine","blankLine","blankMatrix","clearPoints","StorageKey","lastRecord","data","window","localStorage","getItem","btoa","atob","decodeURIComponent","JSON","parse","console","error","maxPoint","eachLines","trans","body","document","filter","getParam","param","r","m","location","toString","decodeURI","lan","l","toLowerCase","navigator","languages","find","i18nJSON","indexOf","default","title","i18n","hiddenProperty","names","unit","getNextType","len","floor","random","want","xy","shape","horizontal","every","k1","n","k2","isClear","forEach","k","isOver","some","subscribeRecord","store","subscribe","state","lock","stringify","encodeURIComponent","setItem","isMobile","ua","userAgent","android","iphone","ipod","ipad","nokiaN","visibilityChangeEvent","replace","isFocus","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","descriptor","_createClass","protoProps","staticProps","Block","option","type","rotateIndex","timeStamp","Date","now","tempK","nextXy","nextRotateIndex","mutations","nextBlock","moveBlock","focus","key_drop","keyboard","key_down","key_left","key_right","key_rotate","key_reset","key_music","key_pause","AudioContext","webkitAudioContext","mozAudioContext","oAudioContext","msAudioContext","hasWebAudioAPI","protocol","url","require","context","req","XMLHttpRequest","open","responseType","onload","decodeAudioData","response","buf","getSource","createBufferSource","buffer","connect","destination","killStart","start","clear","fall","gameover","rotate","move","send","Vue","use","Vuex","clearLinesInitState","isNaN","parseInt","curInitState","dropInitState","lockInitState","matrixInitState","maxInitState","musicInitState","nextInitState","pauseInitState","pointsInitState","speedRunInitState","speedStartInitState","startLinesInitState","keydownActive","resetInitState","down","left","right","Store","isFirst","getStartMatrix","getLine","count","line","splice","startMatrix","unshift","states","fallInterval","hooks","log","end","params","dispatchPoints","commit","auto","timeout","out","setTimeout","nextAround","clearTimeout","stopDownTrigger","addPoints","overStart","isPause","lines","newMatrix","speedAdd","speedNow","score","overEnd","point","eventName","o","callback","once","begin","interval","loop","up","clearAll","event","delay","remain","speed","bottom","space","s","37","38","39","40","32","83","82","80","boardKeys","map","keyDown","metaKey","keyCode","todo","keyUp","addEventListener","_m","staticStyle","name","computed","github","QRTitle","QRCode","component","directives","rawName","expression","_b","linkTitle","QRSrc","alt","mounted","methods","resize","_l","item","block","watch","$props","deep","handler","nextProps","build","showPause","setShake","bool","Pause","clearInterval","timeInterval","time_count","propTime","number","time","destroyed","num","beforeMount","NumberObj","clock","label","components","Number","onChange","Point","toggle","ref","rotation","labelDown","labelLeft","labelRight","labelDropSpace","labelResetR","labelSoundS","labelPauseP","color","size","top","active","arrow","position","fillingNum","passive","mouseDownEventCatch","touchEventCatch","Vbutton","display","domProps","titleCenter","oldProps","animate","Logo","set","func","delay2","delay1","run","eyes","show","hide","dra","animateColor","overState","c","d","propsChange","getResult","clearAnimate","t","anima","over","w","h","Decorate","Guide","Next","Music","Keyboard","Matrix","mapState","sdk","gameInstance","core","KEY","exec","fn","exp","$flags","DESCRIPTORS","TO_STRING","$toString","define","R","concat","$find","forced","P","arguments","ownKeys","toIObject","gOPD","createProperty","getOwnPropertyDescriptors","object","getDesc","gOPN","gOPS","Reflect","getSymbols","original","isObject","SPECIES","constructor","$defineProperty","createDesc"],"mappings":"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","file":"js/chunk-02b10ba1.41aebaa9.js","sourcesContent":["// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&lang=less&\"","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\"","'use strict';\n\nvar isRegExp = require('./_is-regexp');\nvar anObject = require('./_an-object');\nvar speciesConstructor = require('./_species-constructor');\nvar advanceStringIndex = require('./_advance-string-index');\nvar toLength = require('./_to-length');\nvar callRegExpExec = require('./_regexp-exec-abstract');\nvar regexpExec = require('./_regexp-exec');\nvar fails = require('./_fails');\nvar $min = Math.min;\nvar $push = [].push;\nvar $SPLIT = 'split';\nvar LENGTH = 'length';\nvar LAST_INDEX = 'lastIndex';\nvar MAX_UINT32 = 0xffffffff;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return $split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy[LAST_INDEX];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : $split.call(this, separator, limit);\n    };\n  } else {\n    internalSplit = $split;\n  }\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = defined(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== $split);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = $min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n});\n","// 21.2.5.3 get RegExp.prototype.flags()\nif (require('./_descriptors') && /./g.flags != 'g') require('./_object-dp').f(RegExp.prototype, 'flags', {\n  configurable: true,\n  get: require('./_flags')\n});\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\"","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"game-page-box tetris-page-box\"},[_c('div',{staticClass:\"app\",style:(_vm.size)},[_c('div',{staticClass:\"rect\",class:_vm.drop?'drop':''},[_c('Decorate'),_c('div',{staticClass:\"screen\"},[_c('div',{staticClass:\"panel\"},[_c('Matrix',{attrs:{\"propMatrix\":_vm.matrix,\"cur\":_vm.cur,\"reset\":_vm.reset}}),_c('Logo',{attrs:{\"cur\":!!_vm.cur,\"reset\":_vm.reset}}),_c('div',{staticClass:\"state\"},[_c('Point',{attrs:{\"cur\":!!_vm.cur,\"max\":_vm.max,\"point\":_vm.points}}),_c('p',[_vm._v(_vm._s(_vm.pContent))]),_c('Number',{attrs:{\"number\":_vm.cur ? _vm.clearLines : _vm.startLines}}),_c('p',[_vm._v(_vm._s(_vm.level))]),_c('Number',{attrs:{\"number\":_vm.cur?_vm.speedRun:_vm.speedStart,\"length\":1}}),_c('p',[_vm._v(_vm._s(_vm.nextText))]),_c('Next',{attrs:{\"data\":_vm.next}}),_c('div',{staticClass:\"bottom\"},[_c('Music',{attrs:{\"data\":_vm.music}}),_c('Pause',{attrs:{\"data\":_vm.pause}}),_c('Number',{attrs:{\"propTime\":true}})],1)],1)],1)])],1),_c('Keyboard',{attrs:{\"filling\":_vm.filling}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nexport default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    _Object$defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import i18nJSON from '../i18n.json'\n\nexport const blockShape = {\n  I: [[1, 1, 1, 1]],\n  L: [[0, 0, 1], [1, 1, 1]],\n  J: [[1, 0, 0], [1, 1, 1]],\n  Z: [[1, 1, 0], [0, 1, 1]],\n  S: [[0, 1, 1], [1, 1, 0]],\n  O: [[1, 1], [1, 1]],\n  T: [[0, 1, 0], [1, 1, 1]]\n}\n\nexport const origin = {\n  I: [[-1, 1], [1, -1]],\n  L: [[0, 0]],\n  J: [[0, 0]],\n  Z: [[0, 0]],\n  S: [[0, 0]],\n  O: [[0, 0]],\n  T: [[0, 0], [1, 0], [-1, 1], [0, -1]]\n}\n\nexport const blockType = Object.keys(blockShape)\n\nexport const speeds = [800, 650, 500, 370, 250, 160]\n\nexport const delays = [50, 60, 70, 80, 90, 100]\n\nexport const fillLine = [1, 1, 1, 1, 1, 1, 1, 1, 1, 1]\n\nexport const blankLine = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]\n\nexport const blankMatrix = (() => {\n  const matrix = []\n  for (let i = 0; i < 20; i++) {\n    matrix.push(blankLine)\n  }\n  return matrix\n})()\n\nexport const clearPoints = [100, 300, 700, 1500]\n\nexport const StorageKey = 'VUE_TETRIS'\n\nexport const lastRecord = (() => {\n  // 上一把的状态\n  let data = window.localStorage.getItem(StorageKey)\n  if (!data) {\n    return false\n  }\n  try {\n    if (window.btoa) {\n      data = atob(data)\n    }\n    data = decodeURIComponent(data)\n    data = JSON.parse(data)\n  } catch (e) {\n    if (window.console || window.console.error) {\n      window.console.error('读取记录错误:', e)\n    }\n    return false\n  }\n  return data\n})()\n\nexport const maxPoint = 999999\n\nexport const transform = (function() {\n  const trans = [\n    'transform',\n    'webkitTransform',\n    'msTransform',\n    'mozTransform',\n    'oTransform'\n  ]\n  const body = document.body\n  return trans.filter(e => body.style[e] !== undefined)[0]\n})()\n\nexport const eachLines = 20 // 每消除eachLines行, 增加速度\n\nexport const getParam = param => {\n  // 获取浏览器参数\n  const r = new RegExp(`\\\\?(?:.+&)?${param}=(.*?)(?:&.*)?$`)\n  const m = window.location.toString().match(r)\n  return m ? decodeURI(m[1]) : ''\n}\n\nexport const lan = (() => {\n  let l = getParam('lan').toLowerCase()\n  if (!l && navigator.languages) {\n    l = navigator.languages.find(l => i18nJSON.lan.indexOf(l) !== -1)\n  }\n  l = i18nJSON.lan.indexOf(l) === -1 ? i18nJSON.default : l\n  return 'cn'\n})()\n\ndocument.title = i18nJSON.data.title[lan]\n\nexport let i18n = i18nJSON.data\n","import { blockType, StorageKey } from './const'\nconst hiddenProperty = (() => {\n  // document[hiddenProperty] 可以判断页面是否失焦\n  let names = ['hidden', 'webkitHidden', 'mozHidden', 'msHidden']\n  names = names.filter(e => e in document)\n  return names.length > 0 ? names[0] : false\n})()\nconst unit = {\n  getNextType() {\n    // 随机获取下一个方块类型\n    const len = blockType.length\n    return blockType[Math.floor(Math.random() * len)]\n  },\n  want(next, matrix) {\n    // 方块是否能移到到指定位置\n    const xy = next.xy\n    const shape = next.shape\n    const horizontal = shape[0].length\n    return shape.every((m, k1) =>\n      m.every((n, k2) => {\n        if (xy[1] < 0) {\n          // left\n          return false\n        }\n        if (xy[1] + horizontal > 10) {\n          // right\n          return false\n        }\n        if (xy[0] + k1 < 0) {\n          // top\n          return true\n        }\n        if (xy[0] + k1 >= 20) {\n          // bottom\n          return false\n        }\n        if (n) {\n          if (matrix[xy[0] + k1][xy[1] + k2]) {\n            return false\n          }\n          return true\n        }\n        return true\n      })\n    )\n  },\n  isClear(matrix) {\n    // 是否达到消除状态\n    const clearLines = []\n    matrix.forEach((m, k) => {\n      if (m.every(n => !!n)) {\n        clearLines.push(k)\n      }\n    })\n    if (clearLines.length === 0) {\n      return false\n    }\n    return clearLines\n  },\n  isOver(matrix) {\n    // 游戏是否结束, 第一行落下方块为依据\n  \n    return matrix[0].some(n => !!n)\n  },\n  subscribeRecord(store) {\n    // 将状态记录到 localStorage\n    store.subscribe(() => {\n      let data = store.state\n      if (data.lock) {\n        // 当状态为锁定, 不记录\n        return\n      }\n      data = JSON.stringify(data)\n      data = encodeURIComponent(data)\n      if (window.btoa) {\n        data = btoa(data)\n      }\n      window.localStorage.setItem(StorageKey, data)\n    })\n  },\n  isMobile() {\n    // 判断是否为移动端\n    const ua = navigator.userAgent\n    const android = /Android (\\d+\\.\\d+)/.test(ua)\n    const iphone = ua.indexOf('iPhone') > -1\n    const ipod = ua.indexOf('iPod') > -1\n    const ipad = ua.indexOf('iPad') > -1\n    const nokiaN = ua.indexOf('NokiaN') > -1\n    return android || iphone || ipod || ipad || nokiaN\n  },\n  visibilityChangeEvent: (() => {\n    if (!hiddenProperty) {\n      return false\n    }\n    return hiddenProperty.replace(/hidden/i, 'visibilitychange') // 如果属性有前缀, 相应的事件也有前缀\n  })(),\n  isFocus: () => {\n    if (!hiddenProperty) {\n      // 如果不存在该特性, 认为一直聚焦\n      return true\n    }\n    return !document[hiddenProperty]\n  }\n}\nexport const {\n  getNextType,\n  isMobile,\n  want,\n  isClear,\n  isOver,\n  subscribeRecord,\n  visibilityChangeEvent,\n  isFocus\n} = unit\n","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n\n    _Object$defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n\n  _Object$defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n\n  return Constructor;\n}","import { blockShape, origin } from './const'\n\nclass Block {\n  constructor(option) {\n    this.type = option.type\n\n    if (!option.rotateIndex) {\n      this.rotateIndex = 0\n    } else {\n      this.rotateIndex = option.rotateIndex\n    }\n\n    if (!option.timeStamp) {\n      this.timeStamp = Date.now()\n    } else {\n      this.timeStamp = option.timeStamp\n    }\n\n    if (!option.shape) {\n      // init\n      this.shape = blockShape[option.type]\n    } else {\n      this.shape = option.shape\n    }\n    if (!option.xy) {\n      switch (option.type) {\n        case 'I': // I\n          this.xy = [0, 3]\n          break\n        case 'L': // L\n          this.xy = [-1, 4]\n          break\n        case 'J': // J\n          this.xy = [-1, 4]\n          break\n        case 'Z': // Z\n          this.xy = [-1, 4]\n          break\n        case 'S': // S\n          this.xy = [-1, 4]\n          break\n        case 'O': // O\n          this.xy = [-1, 4]\n          break\n        case 'T': // T\n          this.xy = [-1, 4]\n          break\n        default:\n          break\n      }\n    } else {\n      this.xy = option.xy\n    }\n  }\n  rotate() {\n    const shape = this.shape\n    let result = []\n    shape.forEach(m =>\n      m.forEach((n, k) => {\n        const index = m.length - k - 1\n        if (result[index] === undefined) {\n          result[index]=[]\n        }\n        \n        result[index].push(n)\n        const tempK = [...result[index]]\n        result[index]=tempK\n      })\n    )\n    const nextXy = [\n      this.xy[0] + origin[this.type][this.rotateIndex][0],\n      this.xy[1] + origin[this.type][this.rotateIndex][1]\n    ]\n    const nextRotateIndex = this.rotateIndex + 1 >= origin[this.type].length\n      ? 0\n      : this.rotateIndex + 1\n    return {\n      shape: result,\n      type: this.type,\n      xy: nextXy,\n      rotateIndex: nextRotateIndex,\n      timeStamp: this.timeStamp\n    }\n  }\n  fall(n = 1) {\n    return {\n      shape: this.shape,\n      type: this.type,\n      xy: [this.xy[0] + n, this.xy[1]],\n      rotateIndex: this.rotateIndex,\n      timeStamp: Date.now()\n    }\n  }\n  right() {\n    return {\n      shape: this.shape,\n      type: this.type,\n      xy: [this.xy[0], this.xy[1] + 1],\n      rotateIndex: this.rotateIndex,\n      timeStamp: this.timeStamp\n    }\n  }\n  left() {\n    return {\n      shape: this.shape,\n      type: this.type,\n      xy: [this.xy[0], this.xy[1] - 1],\n      rotateIndex: this.rotateIndex,\n      timeStamp: this.timeStamp\n    }\n  }\n}\n\nexport default Block\n","import { getNextType } from '../unit'\nimport Block from '../unit/block'\nconst mutations = {\n  nextBlock(state, data) {\n    if (!data) {\n      data = getNextType()\n    }\n    state.next = data\n  },\n  moveBlock(state, data) {\n    state.cur = data.reset === true ? null : new Block(data)\n  },\n  speedStart(state, data) {\n    state.speedStart = data\n  },\n  speedRun(state, data) {\n    state.speedRun = data\n  },\n  startLines(state, data) {\n    state.startLines = data\n  },\n  matrix(state, data) {\n    state.matrix = data\n  },\n  lock(state, data) {\n    state.lock = data\n  },\n  clearLines(state, data) {\n    state.clearLines = data\n  },\n  points(state, data) {\n    state.points = data\n  },\n  max(state, data) {\n    state.max = data\n  },\n  reset(state, data) {\n    state.reset = data\n  },\n  drop(state, data) {\n    state.drop = data\n  },\n  pause(state, data) {\n    state.pause = data\n  },\n  music(state, data) {\n    state.music = data\n  },\n  focus(state, data) {\n    state.focus = data\n  },\n  key_drop(state, data) {\n    state.keyboard['drop'] = data\n  },\n  key_down(state, data) {\n    state.keyboard['down'] = data\n  },\n  key_left(state, data) {\n    state.keyboard['left'] = data\n  },\n  key_right(state, data) {\n    state.keyboard['right'] = data\n  },\n  key_rotate(state, data) {\n    state.keyboard['rotate'] = data\n  },\n  key_reset(state, data) {\n    state.keyboard['reset'] = data\n  },\n  key_music(state, data) {\n    state.keyboard['music'] = data\n  },\n  key_pause(state, data) {\n    state.keyboard['pause'] = data\n  }\n}\nexport default mutations\n","import store from '../vuex/store'\n\n// 使用 Web Audio API\nconst AudioContext =\n  window.AudioContext ||\n  window.webkitAudioContext ||\n  window.mozAudioContext ||\n  window.oAudioContext ||\n  window.msAudioContext\n\nexport const hasWebAudioAPI = {\n  data: !!AudioContext && location.protocol.indexOf('http') !== -1\n}\n\nexport const music = {}\n;(() => {\n  if (!hasWebAudioAPI.data) {\n    return\n  }\n  const url = require('../assets/music.mp3')\n  const context = new AudioContext()\n  const req = new XMLHttpRequest()\n  req.open('GET', url, true)\n  req.responseType = 'arraybuffer'\n\n  req.onload = () => {\n    context.decodeAudioData(\n      req.response,\n      buf => {\n        // 将拿到的audio解码转为buffer\n        const getSource = () => {\n          // 创建source源。\n          const source = context.createBufferSource()\n          source.buffer = buf\n          source.connect(context.destination)\n          return source\n        }\n\n        music.killStart = () => {\n          // 游戏开始的音乐只播放一次\n          music.start = () => {}\n        }\n\n        music.start = () => {\n          // 游戏开始\n          music.killStart()\n          if (!store.state.music) {\n            return\n          }\n          getSource().start(0, 3.7202, 3.6224)\n        }\n\n        music.clear = () => {\n          // 消除方块\n          if (!store.state.music) {\n            return\n          }\n          getSource().start(0, 0, 0.7675)\n        }\n\n        music.fall = () => {\n          // 立即下落\n          if (!store.state.music) {\n            return\n          }\n          getSource().start(0, 1.2558, 0.3546)\n        }\n\n        music.gameover = () => {\n          // 游戏结束\n          if (!store.state.music) {\n            return\n          }\n          getSource().start(0, 8.1276, 1.1437)\n        }\n\n        music.rotate = () => {\n          // 旋转\n          if (!store.state.music) {\n            return\n          }\n          getSource().start(0, 2.2471, 0.0807)\n        }\n\n        music.move = () => {\n          // 移动\n          if (!store.state.music) {\n            return\n          }\n          getSource().start(0, 2.9088, 0.1437)\n        }\n      },\n      error => {\n        if (window.console && window.console.error) {\n          window.console.error(`音频: ${url} 读取错误`, error)\n          hasWebAudioAPI.data = false\n        }\n      }\n    )\n  }\n\n  req.send()\n})()\n","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport { getNextType } from '../unit'\nimport mutations from './mutations'\nimport { isFocus } from '../unit/'\nimport { blankMatrix, lastRecord, maxPoint, blockType } from '../unit/const'\nimport Block from '../unit/block'\nimport { hasWebAudioAPI } from '../unit/music'\nVue.use(Vuex)\n\nlet clearLinesInitState = lastRecord &&\n  !isNaN(parseInt(lastRecord.clearLines, 10))\n  ? parseInt(lastRecord.clearLines, 10)\n  : 0\nif (clearLinesInitState < 0) {\n  clearLinesInitState = 0\n}\n\nconst curInitState = (() => {\n  if (!lastRecord || !lastRecord.cur) {\n    // 无记录 或 有记录 但方块为空, 返回 null\n    return null\n  }\n  const cur = lastRecord.cur\n  const option = {\n    type: cur.type,\n    rotateIndex: cur.rotateIndex,\n    shape: cur.shape,\n    xy: cur.xy\n  }\n  return new Block(option)\n})()\n\nconst dropInitState = lastRecord && lastRecord.drop !== undefined\n  ? !!lastRecord.drop\n  : false\n\nconst lockInitState = lastRecord && lastRecord.lock !== undefined\n  ? !!lastRecord.lock\n  : false\n\nconst matrixInitState = lastRecord && Array.isArray(lastRecord.matrix)\n  ? lastRecord.matrix\n  : blankMatrix\n\nlet maxInitState = lastRecord && !isNaN(parseInt(lastRecord.max, 10))\n  ? parseInt(lastRecord.max, 10)\n  : 0\n\nif (maxInitState < 0) {\n  maxInitState = 0\n} else if (maxInitState > maxPoint) {\n  maxInitState = maxPoint\n}\nlet musicInitState = lastRecord && lastRecord.music !== undefined\n  ? !!lastRecord.music\n  : true\nif (!hasWebAudioAPI.data) {\n  musicInitState = false\n}\n\nconst nextInitState = lastRecord && blockType.indexOf(lastRecord.next) !== -1\n  ? lastRecord.next\n  : getNextType()\n\nconst pauseInitState = lastRecord && lastRecord.pause !== undefined\n  ? !!lastRecord.pause\n  : false\n\nlet pointsInitState = lastRecord && !isNaN(parseInt(lastRecord.points, 10))\n  ? parseInt(lastRecord.points, 10)\n  : 0\n\nif (pointsInitState < 0) {\n  pointsInitState = 0\n} else if (pointsInitState > maxPoint) {\n  pointsInitState = maxPoint\n}\n\nlet speedRunInitState = lastRecord && !isNaN(parseInt(lastRecord.speedRun, 10))\n  ? parseInt(lastRecord.speedRun, 10)\n  : 1\nif (speedRunInitState < 1 || speedRunInitState > 6) {\n  speedRunInitState = 1\n}\nlet speedStartInitState = lastRecord &&\n  !isNaN(parseInt(lastRecord.speedStart, 10))\n  ? parseInt(lastRecord.speedStart, 10)\n  : 1\nif (speedStartInitState < 1 || speedStartInitState > 6) {\n  speedStartInitState = 1\n}\n\nlet startLinesInitState = lastRecord &&\n  !isNaN(parseInt(lastRecord.startLines, 10))\n  ? parseInt(lastRecord.startLines, 10)\n  : 0\nif (startLinesInitState < 0 || startLinesInitState > 10) {\n  startLinesInitState = 0\n}\nconst resetInitState = lastRecord && lastRecord.reset\n  ? !!lastRecord.reset\n  : false\nconst state = {\n  music: musicInitState,\n  pause: pauseInitState,\n  matrix: matrixInitState,\n  next: nextInitState,\n  cur: curInitState,\n  // dispatch: '',\n  speedStart: speedStartInitState,\n  speedRun: speedRunInitState,\n  startLines: startLinesInitState,\n  clearLines: clearLinesInitState,\n  points: pointsInitState,\n  max: maxInitState,\n  reset: resetInitState,\n  drop: dropInitState,\n  keyboard: {\n    drop: false,\n    down: false,\n    left: false,\n    right: false,\n    rotate: false,\n    reset: false,\n    music: false,\n    pause: false\n  },\n\n  lock: lockInitState,\n  focus: isFocus()\n}\nexport default new Vuex.Store({\n  state,\n  // getters,\n  // actions,\n  mutations\n})\n","import store from '../vuex/store'\nimport todo from './todo'\n\nconst keyboard = {\n  37: 'left',\n  38: 'rotate',\n  39: 'right',\n  40: 'down',\n  32: 'space',\n  83: 's',\n  82: 'r',\n  80: 'p'\n}\n\nlet keydownActive\n\nconst boardKeys = Object.keys(keyboard).map(e => parseInt(e, 10))\n\nconst keyDown = e => {\n  if (e.metaKey === true || boardKeys.indexOf(e.keyCode) === -1) {\n    return\n  }\n  const type = keyboard[e.keyCode]\n  if (type === keydownActive) {\n    return\n  }\n  keydownActive = type\n  todo[type].down(store)\n}\n\nconst keyUp = e => {\n  if (e.metaKey === true || boardKeys.indexOf(e.keyCode) === -1) {\n    return\n  }\n  const type = keyboard[e.keyCode]\n  if (type === keydownActive) {\n    keydownActive = ''\n  }\n  todo[type].up(store)\n}\n\ndocument.addEventListener('keydown', keyDown, true)\ndocument.addEventListener('keyup', keyUp, true)\n","import store from '../vuex/store'\nimport {want, isClear, isOver} from '../unit/'\nimport {\n    speeds,\n    blankLine,\n    blankMatrix,\n    clearPoints,\n    eachLines\n} from '../unit/const'\nimport {music} from '../unit/music'\n\nlet isFirst = true\n\nconst getStartMatrix = startLines => {\n    // 生成startLines\n    const getLine = (min, max) => {\n        // 返回标亮个数在min~max之间一行方块, (包含边界)\n        const count = parseInt((max - min + 1) * Math.random() + min, 10)\n        const line = []\n        for (let i = 0; i < count; i++) {\n            // 插入高亮\n            line.push(1)\n        }\n        for (let i = 0, len = 10 - count; i < len; i++) {\n            // 在随机位置插入灰色\n            const index = parseInt((line.length + 1) * Math.random(), 10)\n            line.splice(index, 0, 0)\n        }\n\n        return line\n    }\n    let startMatrix = []\n\n    for (let i = 0; i < startLines; i++) {\n        if (i <= 2) {\n            // 0-3\n            startMatrix.push(getLine(5, 8))\n        } else if (i <= 6) {\n            // 4-6\n            startMatrix.push(getLine(4, 9))\n        } else {\n            // 7-9\n            startMatrix.push(getLine(3, 9))\n        }\n    }\n    for (let i = 0, len = 20 - startLines; i < len; i++) {\n        // 插入上部分的灰色\n        startMatrix.unshift(blankLine)\n    }\n    return startMatrix\n}\n\nconst states = {\n    // 自动下落setTimeout变量\n    fallInterval: null,\n\n    hooks: {\n        start: function () {\n            console.log('hooks start')\n        },\n        end: function (params) {\n            console.log('hooks end', params)\n        }\n    },\n\n    // 游戏开始\n    start: () => {\n        if (music.start) {\n            music.start()\n        }\n        states.hooks.start()\n        const state = store.state\n        states.dispatchPoints(0)\n        store.commit('speedRun', state.speedStart)\n        const startLines = state.startLines\n        const startMatrix = getStartMatrix(startLines)\n        store.commit('matrix', startMatrix)\n        store.commit('moveBlock', {type: state.next})\n        store.commit('nextBlock', '')\n        states.auto()\n    },\n\n    // 自动下落\n    auto: timeout => {\n        const out = timeout < 0 ? 0 : timeout\n        let state = store.state\n        let cur = state.cur\n        const fall = () => {\n            state = store.state\n            cur = state.cur\n            const next = cur.fall()\n            if (want(next, state.matrix)) {\n                store.commit('moveBlock', next)\n                states.fallInterval = setTimeout(fall, speeds[state.speedRun - 1])\n            } else {\n                let matrix = JSON.parse(JSON.stringify(state.matrix))\n                const shape = cur && cur.shape\n                const xy = cur && cur.xy\n                shape.forEach((m, k1) =>\n                    m.forEach((n, k2) => {\n                        if (n && xy[0] + k1 >= 0) {\n                            // 竖坐标可以为负\n                            let line = matrix[xy[0] + k1]\n                            line[xy[1] + k2] = 1\n                            matrix[xy[0] + k1] = line\n                        }\n                    })\n                )\n                states.nextAround(matrix)\n            }\n        }\n        clearTimeout(states.fallInterval)\n        states.fallInterval = setTimeout(\n            fall,\n            out === undefined ? speeds[state.speedRun - 1] : out\n        )\n    },\n\n    // 一个方块结束, 触发下一个\n    nextAround: (matrix, stopDownTrigger) => {\n        clearTimeout(states.fallInterval)\n        store.commit('lock', true)\n        store.commit('matrix', matrix)\n        if (typeof stopDownTrigger === 'function') {\n            stopDownTrigger()\n        }\n\n        const addPoints = store.state.points + 10 + (store.state.speedRun - 1) * 2 // 速度越快, 得分越高\n\n        states.dispatchPoints(addPoints)\n\n        if (isClear(matrix)) {\n            if (music.clear) {\n                music.clear()\n            }\n            return\n        }\n        if (isOver(matrix)) {\n            if (music.gameover) {\n                music.gameover()\n            }\n            states.overStart()\n            return\n        }\n        setTimeout(() => {\n            store.commit('lock', false)\n            store.commit('moveBlock', {type: store.state.next})\n            store.commit('nextBlock', '')\n            states.auto()\n        }, 100)\n    },\n\n    // 页面焦点变换\n    focus: isFocus => {\n        store.commit('focus', isFocus)\n        if (!isFocus) {\n            clearTimeout(states.fallInterval)\n            return\n        }\n        const state = store.state\n        if (state.cur && !state.reset && !state.pause) {\n            states.auto()\n        }\n    },\n\n    // 暂停\n    pause: isPause => {\n        store.commit('pause', isPause)\n        if (isPause) {\n            clearTimeout(states.fallInterval)\n            return\n        }\n        states.auto()\n    },\n\n    // 消除行\n    clearLines: (matrix, lines) => {\n        const state = store.state\n        let newMatrix = JSON.parse(JSON.stringify(matrix))\n        lines.forEach(n => {\n            newMatrix.splice(n, 1)\n            // newMatrix = newMatrix.unshift(List(blankLine))\n            newMatrix.unshift(blankLine)\n        })\n        store.commit('matrix', newMatrix)\n        store.commit('moveBlock', {type: state.next})\n        store.commit('nextBlock', '')\n        states.auto()\n        store.commit('lock', false)\n        const clearLines = state.clearLines + lines.length\n        store.commit('clearLines', clearLines)\n\n        const addPoints = store.state.points + clearPoints[lines.length - 1] // 一次消除的行越多, 加分越多\n        states.dispatchPoints(addPoints)\n\n        const speedAdd = Math.floor(clearLines / eachLines) // 消除行数, 增加对应速度\n        let speedNow = state.speedStart + speedAdd\n        speedNow = speedNow > 6 ? 6 : speedNow\n        store.commit('speedRun', speedNow)\n    },\n\n    // 游戏结束, 触发动画\n    overStart: () => {\n        if(!isFirst){\n            states.hooks.end({\n                score: store.state.points\n            })\n        }\n        isFirst = false\n\n        clearTimeout(states.fallInterval)\n        store.commit('lock', true)\n        store.commit('reset', true)\n        store.commit('pause', false)\n    },\n\n    // 游戏结束动画完成\n    overEnd: () => {\n        store.commit('matrix', blankMatrix)\n        store.commit('moveBlock', {reset: true})\n        store.commit('reset', false)\n        store.commit('lock', false)\n        store.commit('clearLines', 0)\n    },\n\n    // 写入分数\n    dispatchPoints: point => {\n        // 写入分数, 同时判断是否创造最高分\n        store.commit('points', point)\n        if (point > 0 && point > store.state.max) {\n            store.commit('max', point)\n        }\n    }\n}\n\nexport default states\n","const eventName = {}\n\nconst down = o => {\n  // 键盘、手指按下\n  const keys = Object.keys(eventName)\n  keys.forEach(i => {\n    clearTimeout(eventName[i])\n    eventName[i] = null\n  })\n  if (!o.callback) {\n    return\n  }\n  const clear = () => {\n    clearTimeout(eventName[o.key])\n  }\n  o.callback(clear)\n  if (o.once === true) {\n    return\n  }\n  let begin = o.begin || 100\n  const interval = o.interval || 50\n  const loop = () => {\n    eventName[o.key] = setTimeout(() => {\n      begin = null\n      loop()\n      o.callback(clear)\n    }, begin || interval)\n  }\n  loop()\n}\n\nconst up = o => {\n  // 键盘、手指松开\n  clearTimeout(eventName[o.key])\n  eventName[o.key] = null\n  if (!o.callback) {\n    return\n  }\n  o.callback()\n}\n\nconst clearAll = () => {\n  const keys = Object.keys(eventName)\n  keys.forEach(i => {\n    clearTimeout(eventName[i])\n    eventName[i] = null\n  })\n}\n\nexport default {\n  down,\n  up,\n  clearAll\n}\n","import { want } from '../../unit/'\nimport event from '../../unit/event'\nimport states from '../states'\nimport { speeds, delays } from '../../unit/const'\nimport { music } from '../../unit/music'\n\nconst down = store => {\n  store.commit('key_left', true)\n  event.down({\n    key: 'left',\n    begin: 200,\n    interval: 100,\n    callback: () => {\n      const state = store.state\n      if (state.lock) {\n        return\n      }\n      if (music.move) {\n        music.move()\n      }\n      const cur = state.cur\n      if (cur !== null) {\n        if (state.pause) {\n          states.pause(false)\n          return\n        }\n        const next = cur.left()\n        const delay = delays[state.speedRun - 1]\n        let timeStamp\n        if (want(next, state.matrix)) {\n          next.timeStamp += parseInt(delay, 10)\n          store.commit('moveBlock', next)\n          timeStamp = next.timeStamp\n        } else {\n          cur.timeStamp += parseInt(parseInt(delay, 10) / 1.5, 10) // 真实移动delay多一点，碰壁delay少一点\n          store.commit('moveBlock', cur)\n          timeStamp = cur.timeStamp\n        }\n        const remain = speeds[state.speedRun - 1] - (Date.now() - timeStamp)\n        states.auto(remain)\n      } else {\n        let speed = state.speedStart\n        speed = speed - 1 < 1 ? 6 : speed - 1\n        store.commit('speedStart', speed)\n      }\n    }\n  })\n}\n\nconst up = store => {\n  store.commit('key_left', false)\n  event.up({\n    key: 'left'\n  })\n}\n\nexport default {\n  down,\n  up\n}\n","import { want } from '../../unit/'\nimport event from '../../unit/event'\nimport states from '../states'\nimport { speeds, delays } from '../../unit/const'\nimport { music } from '../../unit/music'\nconst down = store => {\n  store.commit('key_right', true)\n  event.down({\n    key: 'right',\n    begin: 200,\n    interval: 100,\n    callback: () => {\n      const state = store.state\n      if (state.lock) {\n        return\n      }\n      if (music.move) {\n        music.move()\n      }\n      const cur = state.cur\n      if (cur !== null) {\n        if (state.pause) {\n          states.pause(false)\n          return\n        }\n        const next = cur.right()\n        const delay = delays[state.speedRun - 1]\n        let timeStamp\n        if (want(next, state.matrix)) {\n          next.timeStamp += parseInt(delay, 10)\n          store.commit('moveBlock', next)\n          timeStamp = next.timeStamp\n        } else {\n          cur.timeStamp += parseInt(parseInt(delay, 10) / 1.5, 10) // 真实移动delay多一点，碰壁delay少一点\n          store.commit('moveBlock', cur)\n          timeStamp = cur.timeStamp\n        }\n        const remain = speeds[state.speedRun - 1] - (Date.now() - timeStamp)\n        states.auto(remain)\n      } else {\n        let speed = state.speedStart\n        speed = speed + 1 > 6 ? 1 : speed + 1\n        store.commit('speedStart', speed)\n      }\n    }\n  })\n}\n\nconst up = store => {\n  store.commit('key_right', false)\n  event.up({\n    key: 'right'\n  })\n}\n\nexport default {\n  down,\n  up\n}\n","import { want } from \"../../unit/\";\nimport event from \"../../unit/event\";\nimport states from \"../states\";\nimport { music } from \"../../unit/music\";\nconst down = store => {\n  store.commit(\"key_down\", true);\n  if (store.state.cur !== null) {\n    event.down({\n      key: \"down\",\n      begin: 40,\n      interval: 40,\n      callback: stopDownTrigger => {\n        const state = store.state;\n        if (state.lock) {\n          return;\n        }\n        if (music.move) {\n          music.move();\n        }\n        const cur = state.cur;\n        if (cur === null) {\n          return;\n        }\n        if (state.pause) {\n          states.pause(false);\n          return;\n        }\n        const next = cur.fall();\n        if (want(next, state.matrix)) {\n          store.commit(\"moveBlock\", next);\n          // store.dispatch(actions.moveBlock(next));\n          states.auto();\n        } else {\n          let matrix = JSON.parse(JSON.stringify(state.matrix));\n          const shape = cur.shape;\n          const xy = cur.xy;\n          shape.forEach((m, k1) =>\n            m.forEach((n, k2) => {\n              if (n && xy[0] + k1 >= 0) {\n                // 竖坐标可以为负\n                let line = matrix[xy[0] + k1];\n                line[xy[1] + k2] = 1;\n\n                matrix[xy[0] + k1] = line;\n              }\n            })\n          );\n          states.nextAround(matrix, stopDownTrigger);\n        }\n      }\n    });\n  } else {\n    event.down({\n      key: \"down\",\n      begin: 200,\n      interval: 100,\n      callback: () => {\n        if (store.state.lock) {\n          return;\n        }\n        const state = store.state;\n        const cur = state.cur;\n        if (cur) {\n          return;\n        }\n        if (music.move) {\n          music.move();\n        }\n        let startLines = state.startLines;\n        startLines = startLines - 1 < 0 ? 10 : startLines - 1;\n        store.commit(\"startLines\", startLines);\n        // store.dispatch(actions.startLines(startLines));\n      }\n    });\n  }\n};\n\nconst up = store => {\n  store.commit(\"key_down\", false);\n  event.up({\n    key: \"down\"\n  });\n};\n\nexport default {\n  down,\n  up\n};\n","import { want } from '../../unit/'\nimport event from '../../unit/event'\nimport states from '../states'\nimport { music } from '../../unit/music'\nconst down = store => {\n  store.commit('key_rotate', true)\n  if (store.state.cur !== null) {\n    event.down({\n      key: 'rotate',\n      once: true,\n      callback: () => {\n        const state = store.state\n        if (state.lock) {\n          return\n        }\n        if (state.pause) {\n          states.pause(false)\n        }\n        const cur = state.cur\n        if (cur === null) {\n          return\n        }\n        if (music.rotate) {\n          music.rotate()\n        }\n        const next = cur.rotate()\n        if (want(next, state.matrix)) {\n          store.commit('moveBlock', next)\n        }\n      }\n    })\n  } else {\n    event.down({\n      key: 'rotate',\n      begin: 200,\n      interval: 100,\n      callback: () => {\n        if (store.state.lock) {\n          return\n        }\n        if (music.move) {\n          music.move()\n        }\n        const state = store.state\n        const cur = state.cur\n        if (cur) {\n          return\n        }\n        let startLines = state.startLines\n        startLines = startLines + 1 > 10 ? 0 : startLines + 1\n        store.commit('startLines', startLines)\n      }\n    })\n  }\n}\n\nconst up = store => {\n  store.commit('key_rotate', false)\n  event.up({\n    key: 'rotate'\n  })\n}\n\nexport default {\n  down,\n  up\n}\n","import { want } from \"../../unit/\";\nimport event from \"../../unit/event\";\nimport states from \"../states\";\nimport { music } from \"../../unit/music\";\nimport {sdk,browser} from \"../../../../common/util/bitUtil\";\n\nconst down = store => {\n  store.commit(\"key_drop\", true);\n  event.down({\n    key: \"space\",\n    once: true,\n    callback: () => {\n      const state = store.state;\n      if (state.lock) {\n        return;\n      }\n      const cur = state.cur;\n      if (cur !== null) {\n        // 置底\n        if (state.pause) {\n          states.pause(false);\n          return;\n        }\n        if (music.fall) {\n          music.fall();\n        }\n        let index = 0;\n        let bottom = cur.fall(index);\n        while (want(bottom, state.matrix)) {\n          bottom = cur.fall(index);\n          index++;\n        }\n        let matrix = JSON.parse(JSON.stringify(state.matrix));\n        bottom = cur.fall(index - 2);\n        store.commit(\"moveBlock\", bottom);\n        const shape = bottom.shape;\n        const xy = bottom.xy;\n        shape.forEach((m, k1) =>\n          m.forEach((n, k2) => {\n            if (n && xy[0] + k1 >= 0) {\n              // 竖坐标可以为负\n              let line = matrix[xy[0] + k1];\n              line[xy[1] + k2] = 1;\n              matrix[xy[0] + k1] = line;\n            }\n          })\n        );\n        store.commit(\"drop\", true);\n        setTimeout(() => {\n          store.commit(\"drop\", false);\n        }, 100);\n        states.nextAround(matrix);\n      } else {\n        // if(browser.app){\n        //     sdk.gameShowAd({\n        //         type: 'rewardVideo'\n        //     })\n        //     sdk.onAdCompletion(function(params){\n        //         console.log(params)\n        //         states.start();\n        //     })\n        // } else {\n            states.start();\n        // }\n      }\n    }\n  });\n};\n\nconst up = store => {\n  store.commit(\"key_drop\", false);\n  event.up({\n    key: \"space\"\n  });\n};\n\nexport default {\n  down,\n  up\n};\n","import event from '../../unit/event'\n\nconst down = store => {\n  store.commit('key_music', true)\n  if (store.state.lock) {\n    return\n  }\n  event.down({\n    key: 's',\n    once: true,\n    callback: () => {\n      if (store.state.lock) {\n        return\n      }\n      store.commit('music', !store.state.music)\n    }\n  })\n}\n\nconst up = store => {\n  store.commit('key_music', false)\n  event.up({\n    key: 's'\n  })\n}\n\nexport default {\n  down,\n  up\n}\n","import event from '../../unit/event'\nimport states from '../states'\nconst down = store => {\n  store.commit('key_reset', true)\n  if (store.state.lock) {\n    return\n  }\n  if (store.state.cur !== null) {\n    event.down({\n      key: 'r',\n      once: true,\n      callback: () => {\n        states.overStart()\n      }\n    })\n  } else {\n    event.down({\n      key: 'r',\n      once: true,\n      callback: () => {\n        if (store.state.lock) {\n          return\n        }\n        states.start()\n      }\n    })\n  }\n}\n\nconst up = store => {\n  store.commit('key_reset', false)\n  event.up({\n    key: 'r'\n  })\n}\n\nexport default {\n  down,\n  up\n}\n","import event from '../../unit/event'\nimport states from '../states'\n\nconst down = store => {\n  store.commit('key_pause', true)\n  event.down({\n    key: 'p',\n    once: true,\n    callback: () => {\n      const state = store.state\n      if (state.lock) {\n        return\n      }\n      const cur = state.cur\n      const isPause = state.pause\n      if (cur !== null) {\n        // 暂停\n        states.pause(!isPause)\n      } else {\n        // 新的开始\n        states.start()\n      }\n    }\n  })\n}\n\nconst up = store => {\n  store.commit('key_pause', false)\n  event.up({\n    key: 'p'\n  })\n}\n\nexport default {\n  down,\n  up\n}\n","import left from './left'\nimport right from './right'\nimport down from './down'\nimport rotate from './rotate'\nimport space from './space'\nimport s from './s'\nimport r from './r'\nimport p from './p'\n\nexport default {\n  left,\n  down,\n  rotate,\n  right,\n  space,\n  r,\n  p,\n  s\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"decorate\"},[_vm._m(0),_c('h1',[_vm._v(_vm._s(_vm.title))]),_vm._m(1),_vm._m(2)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"topBorder\"},[_c('span',{staticClass:\"l mr\",staticStyle:{\"width\":\"40px\"}}),_c('span',{staticClass:\"l mr\"}),_c('span',{staticClass:\"l mr\"}),_c('span',{staticClass:\"l mr\"}),_c('span',{staticClass:\"l mr\"}),_c('span',{staticClass:\"r ml\",staticStyle:{\"width\":\"40px\"}}),_c('span',{staticClass:\"r ml\"}),_c('span',{staticClass:\"r ml\"}),_c('span',{staticClass:\"r ml\"}),_c('span',{staticClass:\"r ml\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"view\"},[_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('b',{staticClass:\"c\"}),_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('em'),_c('b',{staticClass:\"c\"}),_c('p'),_c('em'),_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('b',{staticClass:\"c\"}),_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('em'),_c('b',{staticClass:\"c\"}),_c('p'),_c('b',{staticClass:\"c\"}),_c('b',{staticClass:\"c\"}),_c('b',{staticClass:\"c\"}),_c('b',{staticClass:\"c\"}),_c('p'),_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('b',{staticClass:\"c\"}),_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('b',{staticClass:\"c\"}),_c('p'),_c('b',{staticClass:\"c\"}),_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('b',{staticClass:\"c\"}),_c('p'),_c('em'),_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('em'),_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('em'),_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('em'),_c('b',{staticClass:\"c\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"view l\"},[_c('em'),_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('b',{staticClass:\"c\"}),_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('b',{staticClass:\"c\"}),_c('p'),_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('b',{staticClass:\"c\"}),_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('b',{staticClass:\"c\"}),_c('p'),_c('b',{staticClass:\"c\"}),_c('b',{staticClass:\"c\"}),_c('b',{staticClass:\"c\"}),_c('b',{staticClass:\"c\"}),_c('p'),_c('em'),_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('b',{staticClass:\"c\"}),_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('em'),_c('b',{staticClass:\"c\"}),_c('p'),_c('b',{staticClass:\"c\"}),_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('em'),_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('em'),_c('b',{staticClass:\"c\"}),_c('p'),_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('b',{staticClass:\"c\"}),_c('div',{staticClass:\"clear\"}),_c('b',{staticClass:\"c\"})])}]\n\nexport { render, staticRenderFns }","var render, staticRenderFns\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"decorate\">\n        <div class=\"topBorder\">\n            <span class=\"l mr\" style=\"width:40px;\"/>\n            <span class=\"l mr\"/>\n            <span class=\"l mr\"/>\n            <span class=\"l mr\"/>\n            <span class=\"l mr\"/>\n            <span class=\"r ml\" style=\"width:40px;\"/>\n            <span class=\"r ml\"/>\n            <span class=\"r ml\"/>\n            <span class=\"r ml\"/>\n            <span class=\"r ml\"/>\n        </div>\n        <h1>{{title}}</h1>\n        <div class=\"view\">\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <b class=\"c\"/>\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <em/>\n            <b class=\"c\"/>\n            <p/>\n            <em/>\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <b class=\"c\"/>\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <em/>\n            <b class=\"c\"/>\n            <p/>\n            <b class=\"c\"/>\n            <b class=\"c\"/>\n            <b class=\"c\"/>\n            <b class=\"c\"/>\n            <p/>\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <b class=\"c\"/>\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <b class=\"c\"/>\n            <p/>\n            <b class=\"c\"/>\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <b class=\"c\"/>\n            <p/>\n            <em/>\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <em/>\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <em/>\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <em/>\n            <b class=\"c\"/>\n        </div>\n        <div class=\"view l\">\n            <em/>\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <b class=\"c\"/>\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <b class=\"c\"/>\n            <p/>\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <b class=\"c\"/>\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <b class=\"c\"/>\n            <p/>\n            <b class=\"c\"/>\n            <b class=\"c\"/>\n            <b class=\"c\"/>\n            <b class=\"c\"/>\n            <p/>\n            <em/>\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <b class=\"c\"/>\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <em/>\n            <b class=\"c\"/>\n            <p/>\n            <b class=\"c\"/>\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <em/>\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <em/>\n            <b class=\"c\"/>\n            <p/>\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <b class=\"c\"/>\n            <div class=\"clear\"/>\n            <b class=\"c\"/>\n        </div>\n    </div>\n</template>\n\n<script>\n    import {i18n, lan} from '../../unit/const'\n\n    export default {\n        name: 'Decorate',\n        computed: {\n            title: () => i18n.title[lan],\n            github: () => i18n.github[lan],\n            QRTitle: () => i18n.QRNotice[lan],\n            QRCode: () => i18n.QRCode[lan]\n        }\n    }\n\n</script>\n\n<style lang=\"less\">\n    .decorate {\n        h1 {\n            position: absolute;\n            width: 100%;\n            text-align: center;\n            font-weight: normal;\n            top: -12px;\n            left: 0;\n            margin: 0;\n            padding: 0;\n            font-size: 30px;\n        }\n        .topBorder {\n            height: 10px;\n            width: 100%;\n            position: absolute;\n            top: 0px;\n            left: 0px;\n            overflow: hidden;\n            span {\n                display: block;\n                width: 10px;\n                height: 10px;\n                overflow: hidden;\n                background: #000;\n                &.mr {\n                    margin-right: 10px;\n                }\n                &.ml {\n                    margin-left: 10px;\n                }\n            }\n        }\n        .view {\n            position: absolute;\n            right: -90px;\n            top: 25px;\n            width: 58px;\n            em {\n                display: block;\n                width: 28px;\n                height: 28px;\n                overflow: hidden;\n                float: left;\n            }\n            p {\n                height: 28px;\n                clear: both;\n            }\n            &.l {\n                right: auto;\n                left: -90px;\n            }\n        }\n    }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=afc317c2&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isMobile),expression:\"!isMobile\"}]},[_vm._m(0),_c('div',{staticClass:\"guide left\"},[_c('p',[_c('a',_vm._b({attrs:{\"href\":\"https://github.com/Binaryify/vue-tetris\",\"rel\":\"noopener noreferrer\",\"target\":\"_blank\"}},'a',{title:_vm.linkTitle},false),[_vm._v(_vm._s(_vm.github)+\":\")]),_c('br'),_c('iframe',{staticStyle:{\"transform\":\"scale(1.68)\",\"transform-origin\":\"center left\"},attrs:{\"src\":\"https://ghbtns.com/github-btn.html?user=Binaryify&repo=vue-tetris&type=star&count=true\",\"frameBorder\":\"0\",\"scrolling\":\"0\",\"width\":\"170px\",\"height\":\"20px\"}}),_c('br'),_c('iframe',{staticStyle:{\"transform\":\"scale(1.68)\",\"transform-origin\":\"center left\"},attrs:{\"src\":\"https://ghbtns.com/github-btn.html?user=Binaryify&repo=vue-tetris&type=fork&count=true\",\"frameBorder\":\"0\",\"scrolling\":\"0\",\"width\":\"170px\",\"height\":\"20px\"}})]),_c('div',{staticClass:\"space\"},[_vm._v(\"SPACE\")])]),_c('div',{staticClass:\"guide qr\"},[_c('img',_vm._b({attrs:{\"src\":_vm.QRSrc}},'img',{title:_vm.QRTitle,alt:_vm.QRCode},false))])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"guide right\"},[_c('div',{staticClass:\"up\"},[_c('em',{staticStyle:{\"transform\":\"translate(0,-3px) scale(1,2)\"}})]),_c('div',{staticClass:\"left\"},[_c('em',{staticStyle:{\"transform\":\"translate(-7px,3px) rotate(-90deg) scale(1,2)\"}})]),_c('div',{staticClass:\"down\"},[_c('em',{staticStyle:{\"transform\":\"translate(0,9px) rotate(180deg) scale(1,2)\"}})]),_c('div',{staticClass:\"right\"},[_c('em',{staticStyle:{\"transform\":\"translate(7px,3px)rotate(90deg) scale(1,2)\"}})])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div v-show=\"!isMobile\">\n    <div class=\"guide right\">\n      <div class=\"up\">\n        <em style=\"transform:translate(0,-3px) scale(1,2)\" />\n      </div>\n      <div class=\"left\">\n        <em style=\"transform:translate(-7px,3px) rotate(-90deg) scale(1,2)\" />\n      </div>\n      <div class=\"down\">\n        <em style=\"transform: translate(0,9px) rotate(180deg) scale(1,2)\" />\n      </div>\n      <div class=\"right\">\n        <em style=\"transform: translate(7px,3px)rotate(90deg) scale(1,2)\" />\n      </div>\n    </div>\n    <div class=\"guide left\">\n      <p>\n        <a href=\"https://github.com/Binaryify/vue-tetris\" rel=\"noopener noreferrer\" target=\"_blank\" v-bind=\"{title:linkTitle}\">{{github}}:</a>\n        <br />\n        <iframe src=\"https://ghbtns.com/github-btn.html?user=Binaryify&repo=vue-tetris&type=star&count=true\" frameBorder=\"0\" scrolling=\"0\" width=\"170px\" height=\"20px\" style=\"transform: scale(1.68);transform-origin: center left\" />\n        <br />\n        <iframe src=\"https://ghbtns.com/github-btn.html?user=Binaryify&repo=vue-tetris&type=fork&count=true\" frameBorder=\"0\" scrolling=\"0\" width=\"170px\" height=\"20px\" style=\"transform: scale(1.68);transform-origin: center left\" />\n      </p>\n      <div class=\"space\">SPACE</div>\n    </div>\n    <div class=\"guide qr\">\n      <img :src=\"QRSrc\" v-bind=\"{title:QRTitle,alt:QRCode}\" />\n    </div>\n  </div>\n</template>\n\n<script >\n    import { i18n, lan } from '../../unit/const'\n    import { isMobile } from '../../unit'\n    export default {\n        name: 'Guide',\n        data() {\n            return {\n                isMobile: isMobile()\n            }\n        },\n        computed: {\n            linkTitle: () => i18n.linkTitle[lan],\n            github: () => i18n.github[lan],\n            QRCode: () => i18n.QRCode[lan],\n            QRTitle: () => i18n.QRNotice[lan],\n            QRSrc: () =>\n                window.location.protocol +\n                '//raw.githubusercontent.com/Binaryify/vue-tetris/master/static/qr.jpeg'\n        },\n        mounted() {\n            window.addEventListener('resize', this.resize.bind(this), true)\n        },\n        methods: {\n            resize() {\n                this.isMobile = isMobile()\n            }\n        }\n    }\n</script>\n\n<style lang=\"less\">\n  .background(@from, @to) {\n    background: (@from + @to)/2;\n    background: -webkit-gradient(linear, left top, left bottom, from(@from), to(@to));\n    background: -moz-linear-gradient(top, @from, @from); // IE9使用filter背景渐变, 但因为使用了borader-radius, 所以不兼容, IE9使用中和的背景色即可\n    //filter:  progid:DXImageTransform.Microsoft.gradient(startColorstr='@{from}', endColorstr='@{to}');\n  }\n\n  .guide {\n    position: absolute;\n    left: 115%;\n    right: 115%;\n    text-align: center;\n    line-height: 1;\n    white-space: nowrap;\n    &.right {\n      right: auto;\n      bottom: 5%;\n    }\n    &.left {\n      left: auto;\n      bottom: 5%;\n    }\n    p {\n      text-align: left;\n      margin-bottom: 350px;\n      opacity: .5;\n      iframe {\n        margin-top: 20px;\n      }\n    }\n    a {\n      color: #005850;\n      font-size: 30px;\n      position: relative;\n      z-index: 1;\n      cursor: alias;\n      text-decoration: none;\n    }\n    &.qr {\n      left: auto;\n      top: 5%;\n      width: 190px;\n      height: 190px;\n      opacity: .45;\n      padding: 0 0 40px 40px;\n      text-align: right;\n      &:hover {\n        img {\n          width: 100%;\n          height: 100%;\n        }\n      }\n      img {\n        width: 38px;\n        height: 38px;\n      }\n    }\n    &>div {\n      width: 100px;\n      height: 54px;\n      background: /*#404040*/\n              #364d4b;\n      display: inline-block;\n      border-radius: 4px;\n      position: relative;\n      color: #acc3c1;\n      font-size: 16px;\n      em {\n        display: block;\n        width: 0;\n        height: 0;\n        border: 6px solid;\n        border-color: transparent transparent/*#ccc*/\n        #acc3c1;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        margin: -9px 0 0 -6px;\n      }\n      &:before,\n      &:after {\n        content: '';\n        display: block;\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        top: 0;\n        left: 0;\n        border-radius: 4px;\n        box-shadow: 0 5px 10px rgba(255, 255, 255, .15) inset;\n      }\n      &:before {\n        box-shadow: 0 -5px 10px rgba(0, 0, 0, .15) inset;\n      }\n    }\n    .up {\n      height: 60px;\n      display: block;\n      margin: 0 auto 2px;\n    }\n    .down {\n      margin: 0 10px;\n    }\n    .space {\n      left: auto;\n      bottom: 5%;\n      height: 80px;\n      width: 400px;\n      line-height: 80px;\n      letter-spacing: 2px;\n    }\n  }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=16fc3081&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"next\"},_vm._l((_vm.block),function(item,index){return _c('div',_vm._l((item),function(e,k2){return _c('b',{class:e ? 'c' : ''})}),0)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"next\">\n    <div v-for=\"(item,index) in block\">\n      <b :class=\"e ? 'c' : ''\" v-for=\"(e,k2) in item\" />\n    </div>\n  </div>\n</template>\n\n<script>\n    import { blockShape } from '../../unit/const'\n    const xy = {\n        // 方块在下一个中的坐标\n        I: [1, 0],\n        L: [0, 0],\n        J: [0, 0],\n        Z: [0, 0],\n        S: [0, 0],\n        O: [0, 1],\n        T: [0, 0]\n    }\n    const empty = [[0, 0, 0, 0], [0, 0, 0, 0]]\n\n    export default {\n        props: ['data'],\n        mounted() {\n            this.build(this.data)\n        },\n        data() {\n            return {\n                block: empty\n            }\n        },\n        watch: {\n            $props: {\n                deep: true,\n                handler(nextProps) {\n                    this.build(nextProps.data)\n                }\n            }\n        },\n        methods: {\n            build(type) {\n                const shape = blockShape[type]\n                const block = empty.map(e => [...e])\n                shape.forEach((m, k1) => {\n                    m.forEach((n, k2) => {\n                        if (n) {\n                            block[k1 + xy[type][0]][k2 + xy[type][1]] = 1\n                        }\n                    })\n                })\n                this.block = block\n            }\n        }\n    }\n\n</script>\n\n\n<style lang=\"less\">\n  .next {\n    div {\n      height: 28px;\n      width: 114px;\n      float: right;\n    }\n  }\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=e4f20ee0&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"music\",class:_vm.data?'':'c'})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"music\" :class=\"data?'':'c'\">\n  </div>\n</template>\n\n<script >\n    export default {\n        props: ['data']\n    }\n\n</script>\n\n\n<style lang=\"less\">\n  .music {\n    width: 25px;\n    height: 21px;\n    position: absolute;\n    top: 2px;\n    left: -12px;\n    background-size: contain;\n    background-image: url(\"../../assets/client-1.png\");\n    &.c {\n      background-image: url(\"../../assets/client.png\");\n    }\n  }\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=56ad22b8&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bg pause\",class:{'c':_vm.showPause}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"bg pause\" :class=\"{'c':showPause}\" />\n</template>\n\n<script  >\n    let Pause = {\n        timeout: null\n    }\n    export default {\n        props: ['data'],\n        mounted() {\n            this.setShake(this.data)\n        },\n        data() {\n            return {\n                showPause: false\n            }\n        },\n        watch: {\n            $props: {\n                deep: true,\n                handler(nextProps) {\n                    this.setShake(nextProps.data)\n                }\n            }\n        },\n        methods: {\n            setShake(bool) {\n                if (bool && !Pause.timeout) {\n                    Pause.timeout = setInterval(() => {\n                        this.showPause = !this.showPause\n                    }, 250)\n                }\n                if (!bool && Pause.timeout) {\n                    clearInterval(Pause.timeout)\n                    this.showPause = false\n                    Pause.timeout = null\n                }\n            }\n        }\n    }\n\n</script>\n\n\n<style lang=\"less\">\n  .pause {\n    width: 20px;\n    height: 18px;\n    position: absolute;\n    top: 3px;\n    left: 18px;\n    background-size: contain;\n    background-image: url(\"../../assets/play-1.png\");\n    &.c {\n      background-image: url(\"../../assets/play.png\");\n    }\n  }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=61a59d0e&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"number\"},_vm._l((_vm.data),function(item,index){return _c('span',{class:'bg s_'+item})}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"number\">\n    <span v-for=\"(item,index) in data\" :class=\"'bg s_'+item\" />\n  </div>\n</template>\n\n<script >\n    const formate = num => (num < 10 ? `0${num}`.split('') : `${num}`.split(''))\n    let NumberObj = {\n        timeInterval: null,\n        time_count: null\n    }\n    export default {\n        watch: {\n            $props: {\n                deep: true,\n                handler(nextProps) {\n                    this.render()\n                }\n            }\n        },\n        props: {\n            propTime: {\n                type: Boolean\n            },\n            number: {\n                type: Number\n            },\n            length: {\n                type: Number,\n                default: 6\n            }\n        },\n        data() {\n            return {\n                time_count: '',\n                time: new Date(),\n                data: []\n            }\n        },\n        destroyed() {\n            if (!this.propTime) {\n                return\n            }\n            clearTimeout(NumberObj.timeInterval)\n        },\n        methods: {\n            render() {\n                if (this.propTime) {\n                    // 右下角时钟\n                    const now = this.time\n                    const hour = formate(now.getHours())\n                    const min = formate(now.getMinutes())\n                    const sec = now.getSeconds() % 2\n                    const t = hour.concat(sec ? 'd' : 'd_c', min)\n                    this.data = t\n                    return\n                }\n                const num = `${this.number}`.split('')\n                for (let i = 0, len = this.length - num.length; i < len; i++) {\n                    num.unshift('n')\n                }\n                this.data = num\n                return\n            }\n        },\n        beforeMount() {\n            if (!this.length) {\n                this.length = 6\n            }\n            if (!this.propTime) {\n                return\n            }\n            const clock = () => {\n                const count = +NumberObj.timeInterval\n                NumberObj.timeInterval = setTimeout(() => {\n                    this.time = new Date()\n                    this.time_count = count\n                    this.render()\n                    clock()\n                }, 1000)\n            }\n            clock()\n        },\n        mounted() {\n            this.render()\n        }\n    }\n\n</script>\n\n<style lang=\"less\">\n  .number {\n    height: 24px;\n    font-size: 14px;\n    float: right;\n    span {\n      float: left;\n      width: 14px;\n      height: 24px;\n      background-size: contain;\n      background-image: url(\"../../assets/hide.png\");\n      background-repeat: no-repeat;\n    }\n    .s_0 {\n      background-image: url(\"../../assets/0.png\");\n    }\n    .s_1 {\n      background-image: url(\"../../assets/1.png\");\n    }\n    .s_2 {\n      background-image: url(\"../../assets/2.png\");\n    }\n    .s_3 {\n      background-image: url(\"../../assets/3.png\");\n    }\n    .s_4 {\n      background-image: url(\"../../assets/4.png\");\n    }\n    .s_5 {\n      background-image: url(\"../../assets/5.png\");\n    }\n    .s_6 {\n      background-image: url(\"../../assets/6.png\");\n    }\n    .s_7 {\n      background-image: url(\"../../assets/7.png\");\n    }\n    .s_8 {\n      background-image: url(\"../../assets/8.png\");\n    }\n    .s_9 {\n      background-image: url(\"../../assets/9.png\");\n    }\n    .s_n {\n    }\n    .s_d {\n      background-image: url(\"../../assets/colon.png\");\n    }\n    .s_d_c {\n      background-image: url(\"../../assets/colon-1.png\");\n    }\n  }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=212c269a&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',[_vm._v(_vm._s(_vm.label))]),_c('Number',{attrs:{\"number\":_vm.number}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <p>{{label}}</p>\n    <Number :number=\"number\"/>\n  </div>\n</template>\n<script >\n    import { i18n, lan } from '../../unit/const'\n    const DF = i18n.point[lan]\n    const ZDF = i18n.highestScore[lan]\n    const SLDF = i18n.lastRound[lan]\n    let Point = {\n        timeout: null\n    }\n    import Number from '../number/index.vue'\n    export default {\n        props: ['cur', 'point', 'max'],\n        mounted() {\n            this.onChange(this.$props)\n        },\n        components:{\n            Number\n        },\n        data() {\n            return {\n                label: '',\n                number: 0\n            }\n        },\n        watch:{\n            $props:{\n                deep:true,\n                handler(nextProps){\n                    this.onChange(nextProps);\n                }\n            }\n        },\n        methods: {\n            onChange({cur, point, max} ) {\n                clearInterval(Point.timeout)\n                if (cur) {\n                    // 在游戏进行中\n                    this.label = point >= max ? ZDF : DF\n                    this.number = point\n                } else {\n                    // 游戏未开始\n                    const toggle = () => {\n                        // 最高分与上轮得分交替出现\n                        this.label = SLDF\n                        this.number = point\n                        Point.timeout = setTimeout(() => {\n                            this.label = ZDF\n                            this.number = max\n                            Point.timeout = setTimeout(toggle, 3000)\n                        }, 3000)\n                    }\n\n                    if (point !== 0) {\n                        // 如果为上轮没玩, 也不用提示了\n                        toggle()\n                    } else {\n                        this.label=ZDF\n                        this.number=max\n                    }\n                }\n            }\n        }\n    }\n\n</script>\n\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=223fe678&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"keyboard\"},[_c('vbutton',{ref:\"dom_rotate\",staticClass:\"rotation-btn\",attrs:{\"color\":\"blue\",\"size\":\"s1\",\"label\":_vm.rotation,\"arrow\":\"translate(0, 33px)\",\"position\":true,\"active\":_vm.keyboard['rotate']}}),_c('vbutton',{ref:\"dom_down\",staticClass:\"down-btn\",attrs:{\"color\":\"blue\",\"size\":\"s1\",\"label\":_vm.labelDown,\"arrow\":\"translate(0,-36px) rotate(180deg)\",\"active\":_vm.keyboard['down']}}),_c('vbutton',{ref:\"dom_left\",staticClass:\"left-btn\",attrs:{\"color\":\"blue\",\"size\":\"s1\",\"label\":_vm.labelLeft,\"arrow\":\"translate(30px, -6px) rotate(270deg)\",\"active\":_vm.keyboard['left']}}),_c('vbutton',{ref:\"dom_right\",staticClass:\"right-btn\",attrs:{\"color\":\"blue\",\"size\":\"s1\",\"label\":_vm.labelRight,\"arrow\":\"translate(-30px, -6px) rotate(90deg)\",\"active\":_vm.keyboard['right']}}),_c('vbutton',{ref:\"dom_space\",staticClass:\"drop-btn\",attrs:{\"color\":\"blue\",\"size\":\"s0\",\"label\":_vm.labelDropSpace,\"active\":_vm.keyboard['drop']}}),_c('vbutton',{ref:\"dom_r\",staticClass:\"reset-btn\",attrs:{\"color\":\"red\",\"size\":\"s2\",\"label\":_vm.labelResetR,\"active\":_vm.keyboard['reset']}}),_c('vbutton',{ref:\"dom_s\",staticClass:\"sound-btn\",attrs:{\"color\":\"green\",\"size\":\"s2\",\"label\":_vm.labelSoundS,\"active\":_vm.keyboard['music']}}),_c('vbutton',{ref:\"dom_p\",staticClass:\"pause-btn\",attrs:{\"color\":\"green\",\"size\":\"s2\",\"label\":_vm.labelPauseP,\"active\":_vm.keyboard['pause']}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"button\",class:_vm.color+' '+_vm.size,style:('top:'+_vm.top+'px;'+'left:'+_vm.left+'px')},[_c('i',{class:{'active':_vm.active}}),_c('em',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.size==='s1'),expression:\"size==='s1'\"}],style:('transform:'+_vm.arrow+' scale(1,2)')}),_c('span',{class:_vm.position?'position':''},[_vm._v(\"\\n    \"+_vm._s(_vm.label)+\"\\n  \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"button\" :class=\"color+' '+size\" :style=\"'top:'+top+'px;'+'left:'+left+'px'\">\n    <i :class=\"{'active':active}\" />\n    <em :style=\"'transform:'+arrow+' scale(1,2)'\" v-show=\"size==='s1'\" />\n    <span :class=\"position?'position':''\">\n      {{label}}\n    </span>\n  </div>\n</template>\n<script >\n    import { transform } from '../../../unit/const'\n\n    export default {\n        props: [\n            'active',\n            'color',\n            'size',\n            'top',\n            'left',\n            'label',\n            'position',\n            'arrow'\n        ]\n    }\n\n</script>\n\n<style lang=\"less\">\n  .background(@from, @to) {\n    background: (@from + @to)/2;\n    background: -webkit-gradient(linear, left top, left bottom, from(@from), to(@to));\n    background: -moz-linear-gradient(top, @from, @from); // IE9使用filter背景渐变, 但因为使用了borader-radius, 所以不兼容, IE9使用中和的背景色即可\n    //filter:  progid:DXImageTransform.Microsoft.gradient(startColorstr='@{from}', endColorstr='@{to}');\n  }\n\n  .button {\n    position: absolute;\n    text-align: center;\n    color: #111;\n    position: absolute;\n    white-space: nowrap;\n    line-height: 1.6;\n    -webkit-tap-highlight-color:rgba(0,0,0,0);\n\n    &.s2 {\n      font-size: 16px;\n    }\n    span.position {\n      position: absolute;\n      top: 5px;\n      left: 102px;\n    }\n    i {\n      display: block;\n      position: relative;\n      border: 1px solid #000;\n      border-radius: 50%;\n      &:before,\n      &:after {\n        content: '';\n        display: block;\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        top: 0;\n        left: 0;\n        border-radius: 50%;\n        box-shadow: 0 5px 10px rgba(255, 255, 255, .8) inset;\n      }\n      &:after {\n        box-shadow: 0 -5px 10px rgba(0, 0, 0, .8) inset;\n      }\n      &.active {\n        &:before {\n          box-shadow: 0 -3px 6px rgba(255, 255, 255, .6) inset;\n        }\n        &:after {\n          box-shadow: 0 5px 5px rgba(0, 0, 0, .6) inset;\n        }\n      }\n      box-shadow: 0 3px 3px rgba(0, 0, 0, .2);\n    }\n    &.blue i {\n      .background(#6e77ef, #4652f3);\n    }\n    &.green i {\n      .background(#4bc441, #0ec400);\n    }\n    &.red i {\n      .background(#dc3333, #de0000);\n    }\n    &.s0 i {\n      width: 160px;\n      height: 160px;\n    }\n    &.s1 i {\n      width: 100px;\n      height: 100px;\n    }\n    &.s2 i {\n      width: 52px;\n      height: 52px;\n      &:before,\n      &:after {\n        box-shadow: 0px 3px 6px rgba(255, 255, 255, .8) inset;\n      }\n      &:after {\n        box-shadow: 0px -3px 6px rgba(0, 0, 0, .8) inset;\n      }\n      &.active {\n        &:before {\n          box-shadow: 0px -1px 2px rgba(255, 255, 255, .6) inset;\n        }\n        &:after {\n          box-shadow: 0px 3px 3px rgba(0, 0, 0, .7) inset;\n        }\n      }\n      box-shadow: 1px 1px 1px rgba(0, 0, 0, .2);\n    }\n    &.s1 {\n      em {\n        display: block;\n        width: 0;\n        height: 0;\n        border: 8px solid;\n        border-color: transparent transparent #111;\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        margin: -12px 0 0 -8px;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=367506e8&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n        class=\"keyboard\"\n      >\n        <vbutton\n          color=\"blue\"\n          size=\"s1\"\n          :label=\"rotation\"\n          arrow=\"translate(0, 33px)\"\n          :position=\"true\"\n          :active=\"keyboard['rotate']\"\n          ref=\"dom_rotate\"\n          class=\"rotation-btn\"\n        />\n        <vbutton\n          color=\"blue\"\n          size=\"s1\"\n\n          :label=\"labelDown\"\n          arrow=\"translate(0,-36px) rotate(180deg)\"\n          :active=\"keyboard['down']\"\n          ref=\"dom_down\"\n          class=\"down-btn\"\n        />\n        <vbutton\n          color=\"blue\"\n          size=\"s1\"\n          :label=\"labelLeft\"\n          arrow=\"translate(30px, -6px) rotate(270deg)\"\n          :active=\"keyboard['left']\"\n          ref=\"dom_left\"\n          class=\"left-btn\"\n        />\n        <vbutton\n          color=\"blue\"\n          size=\"s1\"\n          :label=\"labelRight\"\n          arrow=\"translate(-30px, -6px) rotate(90deg)\"\n          :active=\"keyboard['right']\"\n          ref=\"dom_right\"\n          class=\"right-btn\"\n        />\n        <vbutton\n          color=\"blue\"\n          size=\"s0\"\n          :label=\"labelDropSpace\"\n          :active=\"keyboard['drop']\"\n          ref=\"dom_space\"\n          class=\"drop-btn\"\n        />\n        <vbutton\n          color=\"red\"\n          size=\"s2\"\n          :label=\"labelResetR\"\n          :active=\"keyboard['reset']\"\n          ref=\"dom_r\"\n          class=\"reset-btn\"\n        />\n        <vbutton\n          color=\"green\"\n          size=\"s2\"\n          :label=\"labelSoundS\"\n          :active=\"keyboard['music']\"\n          ref=\"dom_s\"\n          class=\"sound-btn\"\n        />\n        <vbutton\n          color=\"green\"\n          size=\"s2\"\n          :label=\"labelPauseP\"\n          :active=\"keyboard['pause']\"\n          ref=\"dom_p\"\n          class=\"pause-btn\"\n        />\n      </div>\n</template>\n\n<script >\n    import Vbutton from './button/index.vue'\n    import { i18n, lan } from '../../unit/const'\n    import store from '../../vuex/store'\n    import todo from '../../control/todo'\n\n    export default {\n        props: ['filling'],\n        data() {\n            return {\n                fillingNum: 0\n            }\n        },\n        watch: {\n            $props: {\n                deep: true,\n                handler(nextProps) {\n                    this.fillingNum = nextProps.filling + 20\n                }\n            }\n        },\n        computed: {\n            keyboard() {\n                return this.$store.state.keyboard\n            },\n            rotation: () => i18n.rotation[lan],\n            labelLeft: () => i18n.left[lan],\n            labelRight: () => i18n.right[lan],\n            labelDown: () => i18n.down[lan],\n            labelDropSpace: () => `${i18n.drop[lan]} (SPACE)`,\n            labelResetR: () => `${i18n.reset[lan]}(R)`,\n            labelSoundS: () => `${i18n.sound[lan]}(S)`,\n            labelPauseP: () => `${i18n.pause[lan]}(P)`\n        },\n        mounted() {\n            const touchEventCatch = {} // 对于手机操作, 触发了touchstart, 将作出记录, 不再触发后面的mouse事件\n\n            // 在鼠标触发mousedown时, 移除元素时可以不触发mouseup, 这里做一个兼容, 以mouseout模拟mouseup\n            const mouseDownEventCatch = {}\n            document.addEventListener(\n                'touchstart',\n                e => {\n                    if (e.preventDefault) {\n                        e.preventDefault()\n                    }\n                },\n                { passive: false }\n            )\n            document.addEventListener('touchend', (e) => {\n                if (e.preventDefault) {\n                    e.preventDefault();\n                }\n            }, { passive: false });\n\n            // 阻止双指放大\n            document.addEventListener('gesturestart', (event) => {\n                event.preventDefault();\n            });\n\n            document.addEventListener(\n                'mousedown',\n                e => {\n                    if (e.preventDefault) {\n                        e.preventDefault()\n                    }\n                },\n                true\n            )\n            Object.keys(todo).forEach(key => {\n                this.$refs[`dom_${key}`].$el.addEventListener(\n                    'mousedown',\n                    () => {\n                        if (touchEventCatch[key] === true) {\n                            return\n                        }\n                        todo[key].down(store)\n                        mouseDownEventCatch[key] = true\n                    },\n                    true\n                )\n                this.$refs[`dom_${key}`].$el.addEventListener(\n                    'mouseup',\n                    () => {\n                        if (touchEventCatch[key] === true) {\n                            touchEventCatch[key] = false\n                            return\n                        }\n                        todo[key].up(store)\n                        mouseDownEventCatch[key] = false\n                    },\n                    true\n                )\n                this.$refs[`dom_${key}`].$el.addEventListener(\n                    'mouseout',\n                    () => {\n                        if (mouseDownEventCatch[key] === true) {\n                            todo[key].up(store)\n                        }\n                    },\n                    true\n                )\n                this.$refs[`dom_${key}`].$el.addEventListener(\n                    'touchstart',\n                    () => {\n                        touchEventCatch[key] = true\n                        todo[key].down(store)\n                    },\n                    true\n                )\n                this.$refs[`dom_${key}`].$el.addEventListener(\n                    'touchend',\n                    () => {\n                        todo[key].up(store)\n                    },\n                    true\n                )\n            })\n        },\n        components: {\n            Vbutton\n        }\n    }\n\n</script>\n\n<style lang=\"less\">\n  .keyboard {\n    width: 620px;\n    height: 330px;\n    margin: 60px auto 0;\n    position: relative;\n\n    .rotation-btn {\n      top: 0;\n      left: 424px;\n    }\n\n    .down-btn {\n      top: 180px;\n      left: 424px;\n    }\n\n    .left-btn {\n      top: 90px;\n      left: 334px;\n    }\n\n    .right-btn {\n      top: 90px;\n      left: 514px;\n    }\n\n\n    .drop-btn {\n      top: 120px;\n      left: 62px;\n    }\n\n    .reset-btn {\n      top: 0px;\n      left: 236px;\n    }\n\n    .sound-btn {\n      top: 0px;\n      left: 126px;\n    }\n\n    .pause-btn {\n      top: 0px;\n      left: 16px;\n    }\n\n  }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3e4c2c40&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"logo\",style:('display:'+_vm.display)},[_c('div',{staticClass:\"dragon\",class:_vm.style}),_c('p',{domProps:{\"innerHTML\":_vm._s(_vm.titleCenter)}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"logo\" :style=\"'display:'+display\">\n    <div class=\"dragon\" :class=\"style\" />\n    <p v-html=\"titleCenter\" />\n  </div>\n</template>\n\n<script >\n    import { i18n, lan } from '../../unit/const'\n    let Logo = {\n        timeout: null\n    }\n    export default {\n        props: ['cur', 'reset'],\n        data() {\n            return {\n                style: 'r1',\n                display: 'none'\n            }\n        },\n        watch: {\n            $props: {\n                deep: true,\n                handler(nextProps, oldProps) {\n                    this.animate(nextProps)\n                    if (\n                        // 只有在游戏进入开始, 或结束时 触发改变\n                        ([oldProps.cur, nextProps.cur].indexOf(false) !== -1 &&\n                            oldProps.cur !== nextProps.cur) ||\n                        oldProps.reset !== nextProps.reset\n                    ) {\n                        this.animate(nextProps)\n                    }\n                }\n            }\n        },\n        computed: {\n            titleCenter() {\n                return i18n.titleCenter[lan]\n            }\n        },\n        beforeMount() {\n            this.animate(this.$props)\n        },\n        methods: {\n            animate({ cur, reset }) {\n                clearTimeout(Logo.timeout)\n                this.style = 'r1'\n                this.display = 'none'\n                if (cur || reset) {\n                    this.display = 'none'\n                    return\n                }\n\n                let m = 'r' // 方向\n                let count = 0\n\n                const set = (func, delay) => {\n                    if (!func) {\n                        return\n                    }\n                    Logo.timeout = setTimeout(func, delay)\n                }\n\n                const show = func => {\n                    // 显示\n                    set(() => {\n                        this.display = 'block'\n                        if (func) {\n                            func()\n                        }\n                    }, 150)\n                }\n\n                const hide = func => {\n                    // 隐藏\n                    set(() => {\n                        this.display = 'none'\n                        if (func) {\n                            func()\n                        }\n                    }, 150)\n                }\n\n                const eyes = (func, delay1, delay2) => {\n                    // 龙在眨眼睛\n                    set(() => {\n                        this.style = m + 2\n                        set(() => {\n                            this.style = m + 1\n                            if (func) {\n                                func()\n                            }\n                        }, delay2)\n                    }, delay1)\n                }\n\n                const run = func => {\n                    // 开始跑步啦！\n                    set(() => {\n                        this.style = m + 4\n                        set(() => {\n                            this.style = m + 3\n                            count++\n                            if (count === 10 || count === 20 || count === 30) {\n                                m = m === 'r' ? 'l' : 'r'\n                            }\n                            if (count < 40) {\n                                run(func)\n                                return\n                            }\n                            this.style = m + 1\n                            if (func) {\n                                set(func, 4000)\n                            }\n                        }, 100)\n                    }, 100)\n                }\n\n                const dra = () => {\n                    count = 0\n                    eyes(\n                        () => {\n                            eyes(\n                                () => {\n                                    eyes(\n                                        () => {\n                                            this.style = m + 2\n                                            run(dra)\n                                        },\n                                        150,\n                                        150\n                                    )\n                                },\n                                150,\n                                150\n                            )\n                        },\n                        1000,\n                        1500\n                    )\n                }\n\n                show(() => {\n                    // 忽隐忽现\n                    hide(() => {\n                        show(() => {\n                            hide(() => {\n                                show(() => {\n                                    dra() // 开始运动\n                                })\n                            })\n                        })\n                    })\n                })\n            }\n        }\n    }\n\n</script>\n\n\n<style lang=\"less\">\n  .logo {\n    width: 290px;\n    height: 200px;\n    position: absolute;\n    top: 180px;\n    left: 12px;\n    text-align: center;\n    overflow: hidden;\n    p {\n      position: absolute;\n      width: 100%;\n      line-height: 1.4;\n      top: 100px;\n      left: 0;\n      font-family: initial;\n      letter-spacing: 6px;\n      text-shadow: 1px 1px 1px rgba(255, 255, 255, .35);\n    }\n    .dragon {\n      width: 80px;\n      height: 86px;\n      margin: 0 auto;\n      background-size: contain;\n      &.r1,\n      &.l1 {\n        background-image: url(\"../../assets/drag-1.png\");\n      }\n      &.r2,\n      &.l2 {\n        background-image: url(\"../../assets/drag-2.png\");\n      }\n      &.r3,\n      &.l3 {\n        background-image: url(\"../../assets/drag-3.png\");\n      }\n      &.r4,\n      &.l4 {\n        background-image: url(\"../../assets/drag-4.png\");\n      }\n      &.l1,\n      &.l2,\n      &.l3,\n      &.l4 {\n        transform: scale(-1, 1);\n        -webkit-transform: scale(-1, 1);\n        -ms-transform: scale(-1, 1);\n        -moz-transform: scale(-1, 1);\n        -o-transform: scale(-1, 1);\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=57d4d79c&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<script>\n    import {isClear} from '../../unit/'\n    import {fillLine, blankLine} from '../../unit/const'\n    import states from '../../control/states'\n\n    const t = setTimeout\n\n    export default {\n        props: ['cur', 'reset', 'propMatrix'],\n        watch: {\n            $props: {\n                handler(val = {}, oldVal) {\n                    this.propsChange(val)\n                },\n                deep: true\n            }\n        },\n        data() {\n            return {\n                clearLines: false,\n                animateColor: 2,\n                isOver: false,\n                overState: null,\n                matrix: []\n            }\n        },\n        render: function (h) {\n            /**\n             *\n             <div class=\"matrix\">\n             <p v-for=\"(p, k1) in matrix\" :key=\"k1\">\n             <b v-for=\"(item, k2) in p\" :key=\"k2\" :class=\"[item === 1 ? 'c' : '', item === 2 ? 'd' : '']\" ></b>\n             </p>\n             </div>\n             */\n            let matrix\n            if (this.isOver) {\n                matrix = this.overState\n            } else {\n                matrix = this.getResult()\n            }\n            return h(\n                'div',   // 标签名称\n                {\n                    'class': 'matrix'\n                },\n                matrix.map((p, k1) => {\n                    return h(\n                        'p',\n                        {},\n                        p.map((e, k2) => h('b', {\n                            'class': {\n                                c: e === 1,\n                                d: e === 2\n                            },\n                        }))\n                    )\n                })\n            )\n        },\n        methods: {\n            propsChange(nextProps) {\n                const clears = isClear(nextProps.propMatrix)\n                const overs = nextProps.reset\n                setTimeout(() => {\n                    this.clearLines = clears\n                    this.isOver = overs\n                }, 0)\n                if (clears && !this.clearLines) {\n                    this.clearAnimate(clears)\n                }\n                if (!clears && overs && !this.isOver) {\n                    this.over(nextProps)\n                }\n\n            },\n            getResult(props) {\n                if (!props) {\n                    props = this.$props\n                }\n                const cur = props.cur\n                const shape = cur && cur.shape\n                const xy = cur && cur.xy\n                let matrix = JSON.parse(JSON.stringify(props.propMatrix))\n                const clearLines = this.clearLines\n                if (clearLines) {\n                    const animateColor = this.animateColor\n                    clearLines.forEach(index => {\n                        matrix[index] = [\n                            animateColor,\n                            animateColor,\n                            animateColor,\n                            animateColor,\n                            animateColor,\n                            animateColor,\n                            animateColor,\n                            animateColor,\n                            animateColor,\n                            animateColor\n                        ]\n\n                    })\n                } else if (shape) {\n                    shape.forEach((m, k1) =>\n                        m.forEach((n, k2) => {\n                            if (n && xy[0] + k1 >= 0) {\n                                // 竖坐标可以为负\n                                let line = matrix[xy[0] + k1]\n                                let color\n                                if (line[xy[1] + k2] === 1 && !clearLines) {\n                                    // 矩阵与方块重合\n                                    color = 2\n                                } else {\n                                    color = 1\n                                }\n                                line[xy[1] + k2] = color\n                                matrix[xy[0] + k1] = line\n                            }\n                        })\n                    )\n                }\n                return matrix\n            },\n            clearAnimate() {\n                const anima = callback => {\n                    t(() => {\n                        this.animateColor = 0\n                        t(() => {\n                            this.animateColor = 2\n                            if (typeof callback === 'function') {\n                                callback()\n                            }\n                        }, 100)\n                    }, 100)\n                }\n                anima(() => {\n                    anima(() => {\n                        anima(() => {\n                            t(() => {\n                                states.clearLines(this.propMatrix, this.clearLines)\n                            }, 100)\n                        })\n                    })\n                })\n            },\n            over(nextProps) {\n                let overState = this.getResult(nextProps)\n\n                this.overState = [...overState]\n                const exLine = index => {\n                    if (index <= 19) {\n                        overState[19 - index] = fillLine\n                    } else if (index >= 20 && index <= 39) {\n                        overState[index - 20] = blankLine\n                    } else {\n                        states.overEnd()\n                        return\n                    }\n                    this.overState = [...overState]\n                    // console.log(JSON.stringify(overState))\n                }\n\n                for (let i = 0; i <= 40; i++) {\n                    t(exLine.bind(null, i), 40 * (i + 1))\n                }\n            },\n        },\n    }\n\n</script>\n\n<style lang=\"less\">\n    .matrix {\n        border: 2px solid #000;\n        padding: 3px 1px 1px 3px;\n        width: 290px;\n        p {\n            width: 282px;\n            height: 28px;\n        }\n    }\n\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"game-page-box tetris-page-box\">\n        <div class=\"app\" :style=\"size\">\n            <div class=\"rect\" :class=\"drop?'drop':''\">\n                <Decorate/>\n                <div class=\"screen\">\n                    <div class=\"panel\">\n                        <Matrix :propMatrix=\"matrix\" :cur=\"cur\" :reset=\"reset\" />\n                        <Logo :cur=\"!!cur\" :reset=\"reset\" />\n                        <div class=\"state\">\n                            <Point :cur=\"!!cur\" :max=\"max\" :point=\"points\" />\n                            <p>{{pContent}}</p>\n                            <Number :number='cur ? clearLines : startLines' />\n                            <p>{{level}}</p>\n                            <Number :number='cur?speedRun:speedStart' :length=\"1\" />\n                            <p>{{nextText}}</p>\n                            <Next :data=\"next\" />\n                            <div class=\"bottom\">\n                                <Music :data=\"music\" />\n                                <Pause :data=\"pause\" />\n                                <Number :propTime=\"true\" />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <Keyboard :filling='filling' />\n        </div>\n    </div>\n</template>\n\n<script>\n\n    import { mapState } from 'vuex'\n    import { transform, lastRecord, speeds, i18n, lan } from './unit/const'\n    import { visibilityChangeEvent, isFocus } from './unit/'\n    import states from './control/states'\n    import {sdk,browser} from \"../../common/util/bitUtil\";\n\n    import store from './vuex/store'\n    import './unit/const';\n    import './control';\n    import { subscribeRecord } from './unit';\n    subscribeRecord(store); // 将更新的状态记录到localStorage\n\n    import Decorate from './components/decorate/index.vue'\n    import Guide from './components/guide/index.vue'\n    import Next from './components/next/index.vue'\n    import Music from './components/music/index.vue'\n    import Pause from './components/pause/index.vue'\n    import Number from './components/number/index.vue'\n    import Point from './components/point/index.vue'\n    import Keyboard from './components/keyboard/index.vue'\n    import Logo from './components/logo/index.vue'\n    import Matrix from './components/matrix/index.vue'\n\n    export default {\n        name: 'tetris',\n        store: store,\n        data() {\n            return {\n                size: {},\n                w: document.documentElement.clientWidth,\n                h: document.documentElement.clientHeight,\n                filling: ''\n            }\n        },\n        components: {\n            Decorate,\n            Guide,\n            Next,\n            Music,\n            Pause,\n            Number,\n            Point,\n            Logo,\n            Keyboard,\n            Matrix\n        },\n        computed: {\n            pContent() {\n                return this.cur ? i18n.cleans[lan] : i18n.startLine[lan]\n            },\n            level: () => i18n.level[lan],\n            nextText: () => i18n.next[lan],\n            ...mapState([\n                'matrix',\n                'keyboard',\n                'music',\n                'pause',\n                'next',\n                'cur',\n                'speedStart',\n                'speedRun',\n                'startLines',\n                'clearLines',\n                'points',\n                'max',\n                'reset',\n                'drop'\n            ])\n        },\n        methods: {\n            render() {\n                let filling = 0\n                const size = (() => {\n                    const w = this.w\n                    const h = this.h\n                    const ratio = h / w\n                    let scale\n                    let css = {}\n                    // if (ratio < 1.5) {\n                    //     scale = h / 960\n                    // } else {\n                    //     scale = w / 640\n                    //     filling = (h - 960 * scale) / scale / 3\n                    //     css = {\n                    //         'padding-top': Math.floor(filling) + 42 + 'px',\n                    //         'padding-bottom': Math.floor(filling) + 'px',\n                    //         'margin-top': Math.floor(-480 - filling * 1.5) + 'px'\n                    //     }\n                    // }\n                    // css[transform] = `scale(${scale})`\n                    console.log(css)\n                    return css\n                })()\n                this.size = size\n                this.start()\n                this.filling = filling\n            },\n            resize() {\n                this.w = document.documentElement.clientWidth\n                this.h = document.documentElement.clientHeight\n                this.render()\n            },\n            start() {\n                if (visibilityChangeEvent) {\n                    // 将页面的焦点变换写入store\n                    document.addEventListener(\n                        visibilityChangeEvent,\n                        () => {\n                            states.focus(isFocus())\n                        },\n                        false\n                    )\n                }\n\n                if (lastRecord) {\n                    // 读取记录\n                    if (lastRecord.cur && !lastRecord.pause) {\n                        // 拿到上一次游戏的状态, 如果在游戏中且没有暂停, 游戏继续\n                        const speedRun = this.$store.state.speedRun\n                        let timeout = speeds[speedRun - 1] / 2 // 继续时, 给予当前下落速度一半的停留时间\n                        // 停留时间不小于最快速的速度\n                        timeout =\n                            speedRun < speeds[speeds.length - 1]\n                                ? speeds[speeds.length - 1]\n                                : speedRun\n                        states.auto(timeout)\n                    }\n\n                    if (!lastRecord.cur) {\n                        states.overStart()\n                    }\n                } else {\n                    states.overStart()\n                }\n            }\n        },\n        mounted() {\n            let query = this.$route.query || {}\n            const gameInstance = states\n            if(browser.app){\n                sdk.onAdCompletion(function(params){\n                    console.log(params)\n                })\n\n                gameInstance.hooks.start = function () {\n                    sdk.gameShowAd(query)\n                }\n            }\n            this.render()\n            window.addEventListener('resize', this.resize.bind(this), true)\n        },\n    }\n</script>\n<style lang=\"less\">\n    /* plugin/components/shopping-center.wxss */\n    @import './app.less';\n    @import './loader.less';\n    .tetris-page-box {\n\n        width: 100%;\n        height: 100%;\n        position: relative;\n        box-shadow: 0 0 10px #fff inset;\n        border-radius: 20px;\n        background: #efcc19;\n    }\n\n    @media (min-width: 750px) {\n        .tetris-page-box {\n            margin: 20px auto;\n            width: 750px;\n\n            // width: 500px;\n        }\n    }\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=212f71a4&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\"","module.exports = __webpack_public_path__ + \"media/music.75c4bc18.mp3\";","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","'use strict';\nrequire('./es6.regexp.flags');\nvar anObject = require('./_an-object');\nvar $flags = require('./_flags');\nvar DESCRIPTORS = require('./_descriptors');\nvar TO_STRING = 'toString';\nvar $toString = /./[TO_STRING];\n\nvar define = function (fn) {\n  require('./_redefine')(RegExp.prototype, TO_STRING, fn, true);\n};\n\n// 21.2.5.14 RegExp.prototype.toString()\nif (require('./_fails')(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {\n  define(function toString() {\n    var R = anObject(this);\n    return '/'.concat(R.source, '/',\n      'flags' in R ? R.flags : !DESCRIPTORS && R instanceof RegExp ? $flags.call(R) : undefined);\n  });\n// FF44- RegExp#toString has a wrong name\n} else if ($toString.name != TO_STRING) {\n  define(function toString() {\n    return $toString.call(this);\n  });\n}\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\"","'use strict';\n// 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)\nvar $export = require('./_export');\nvar $find = require('./_array-methods')(5);\nvar KEY = 'find';\nvar forced = true;\n// Shouldn't skip holes\nif (KEY in []) Array(1)[KEY](function () { forced = false; });\n$export($export.P + $export.F * forced, 'Array', {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\nrequire('./_add-to-unscopables')(KEY);\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\"","module.exports = require(\"core-js/library/fn/object/define-property\");","// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export = require('./_export');\nvar ownKeys = require('./_own-keys');\nvar toIObject = require('./_to-iobject');\nvar gOPD = require('./_object-gopd');\nvar createProperty = require('./_create-property');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIObject(object);\n    var getDesc = gOPD.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var i = 0;\n    var key, desc;\n    while (keys.length > i) {\n      desc = getDesc(O, key = keys[i++]);\n      if (desc !== undefined) createProperty(result, key, desc);\n    }\n    return result;\n  }\n});\n","// all object keys, includes non-enumerable and symbols\nvar gOPN = require('./_object-gopn');\nvar gOPS = require('./_object-gops');\nvar anObject = require('./_an-object');\nvar Reflect = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n  var keys = gOPN.f(anObject(it));\n  var getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\"","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less&\"","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n"],"sourceRoot":""}